import{C as g}from"./CommonHelper.7329e1a7.js";let u,f;const m="app-tooltip";function d(e){return typeof e=="string"?{text:e,position:"bottom",hideOnClick:null}:e||{}}function p(){return f=f||document.querySelector("."+m),f||(f=document.createElement("div"),f.classList.add(m),document.body.appendChild(f)),f}function v(e,o){let n=p();if(!n.classList.contains("active")||!(o!=null&&o.text)){h();return}n.textContent=o.text,n.className=m+" active",o.class&&n.classList.add(o.class),n.style.top="0px",n.style.left="0px";let c=n.offsetHeight,s=n.offsetWidth,t=e.getBoundingClientRect(),i=0,l=0,r=5;o.position=="left"?(i=t.top+t.height/2-c/2,l=t.left-s-r):o.position=="right"?(i=t.top+t.height/2-c/2,l=t.right+r):o.position=="top"?(i=t.top-c-r,l=t.left+t.width/2-s/2):o.position=="top-left"?(i=t.top-c-r,l=t.left):o.position=="top-right"?(i=t.top-c-r,l=t.right-s):o.position=="bottom-left"?(i=t.top+t.height+r,l=t.left):o.position=="bottom-right"?(i=t.top+t.height+r,l=t.right-s):(i=t.top+t.height+r,l=t.left+t.width/2-s/2),l+s>document.documentElement.clientWidth&&(l=document.documentElement.clientWidth-s),l=l>=0?l:0,i+c>document.documentElement.clientHeight&&(i=document.documentElement.clientHeight-c),i=i>=0?i:0,n.style.top=i+"px",n.style.left=l+"px"}function h(){clearTimeout(u),p().classList.remove("active"),p().activeNode=void 0}function E(e,o){p().activeNode=e,clearTimeout(u),u=setTimeout(()=>{p().classList.add("active"),v(e,o)},isNaN(o.delay)?250:o.delay)}function a(e,o){let n=d(o);function c(){E(e,n)}function s(){h()}return e.addEventListener("mouseenter",c),e.addEventListener("mouseleave",s),e.addEventListener("blur",s),(n.hideOnClick===!0||n.hideOnClick===null&&g.isFocusable(e))&&e.addEventListener("click",s),p(),{update(t){var i,l;n=d(t),(l=(i=p())==null?void 0:i.activeNode)!=null&&l.contains(e)&&v(e,n)},destroy(){var t,i;(i=(t=p())==null?void 0:t.activeNode)!=null&&i.contains(e)&&h(),e.removeEventListener("mouseenter",c),e.removeEventListener("mouseleave",s),e.removeEventListener("blur",s),e.removeEventListener("click",s)}}}export{a as t};
