import{S as _n,i as yn,s as bn,y as u,a as d,k as s,q as o,z as m,c,l as a,m as n,r,h as l,n as k,T as gn,A as h,b as f,G as e,H as wn,g as p,d as $,B as E}from"../chunks/index.a7566c1a.js";import{H as ae}from"../chunks/HeadingLink.20322812.js";import{C as T}from"../chunks/CodeBlock.a090ee9b.js";import{F as xn}from"../chunks/FilterSyntax.3a84ec87.js";import{T as qn}from"../chunks/Toc.c31a36b6.js";function kn(vn){let H,fl,ne,ul,ie,Xe,Jl,Kl,ml,K,Ql,Je,Wl,Zl,hl,b,Ke,Qe,eo,to,We,Ze,lo,oo,et,tt,ro,so,lt,ot,ao,no,rt,st,io,pl,Q,co,at,fo,uo,$l,Pe,mo,El,L,P,nt,ho,po,it,$o,Eo,dt,vo,_o,yo,Ae,ct,bo,go,wo,Se,ft,xo,qo,vl,M,Fe,ut,ko,A,S,mt,Oo,Co,Ro,Do,ht,Io,To,Lo,_,Po,pt,Ao,So,$t,Fo,Go,Et,No,zo,vt,Bo,Uo,_t,Ho,Mo,Yo,Vo,jo,de,Xo,yt,Jo,Ko,_l,ce,yl,Ge,Qo,bl,Y,ea,gl,W,Wo,bt,Zo,er,wl,F,V,gt,tr,lr,or,rr,wt,sr,ar,j,xt,qt,nr,ir,dr,cr,y,D,kt,fr,ur,Ot,mr,hr,pr,$r,g,Er,Ct,vr,_r,Rt,yr,br,Dt,gr,wr,It,xr,qr,kr,Z,Tt,Or,Cr,Lt,Rr,Dr,Ir,I,Pt,Tr,Lr,At,Pr,Ar,Sr,Fr,Ne,Gr,Nr,ee,St,zr,Br,Ft,Ur,Hr,Mr,te,Gt,Yr,Vr,Nt,jr,Xr,Jr,le,zt,Kr,Qr,Bt,Wr,Zr,es,O,Ut,Ht,ts,ls,Mt,os,rs,fe,ss,ue,as,Yt,ns,is,ds,me,xl,he,ql,pe,kl,$e,Ol,ze,cs,Cl,Ee,Rl,Be,fs,Dl,ve,Il,_e,Tl,G,us,Vt,ms,hs,jt,ps,$s,Ll,ye,Pl,be,Al,v,Es,Xt,vs,_s,Jt,ys,bs,Kt,gs,ws,Qt,xs,qs,ks,Os,Wt,Cs,Rs,Sl,ge,Fl,we,Gl,w,Ds,Zt,Is,Ts,el,Ls,Ps,tl,As,Ss,ll,Fs,Gs,Nl,xe,zl,qe,Bl,C,ke,Ns,Oe,zs,Ce,Bs,Re,Us,X,Hs,ol,Ms,Ys,De,Vs,J,js,rl,Xs,Js,Ie,Ul;return H=new qn({}),ne=new ae({props:{title:"API rules"}}),ce=new ae({props:{title:"Filters syntax"}}),fe=new T({props:{content:`
                @collection.news.categoryId ?= categoryId && @collection.news.author ?= @request.auth.id
            `}}),me=new T({props:{content:`
                // see https://github.com/pocketbase/pocketbase/discussions/3805#discussioncomment-7634791
                @request.auth.id != "" &&
                @collection.courseRegistrations.user ?= id &&
                @collection.courseRegistrations:auth.user ?= @request.auth.id &&
                @collection.courseRegistrations.courseGroup ?= @collection.courseRegistrations:auth.courseGroup
            `}}),he=new xn({}),pe=new ae({props:{title:"Special identifiers and modifiers"}}),$e=new ae({props:{title:"@ macros",tag:"h5"}}),Ee=new T({props:{language:"html",content:`
        // all macros are UTC based
        @now        - the current datetime as string
        @second     - @now second number (0-59)
        @minute     - @now minute number (0-59)
        @hour       - @now hour number (0-23)
        @weekday    - @now weekday number (0-6)
        @day        - @now day number
        @month      - @now month number
        @year       - @now year number
        @todayStart - beginning of the current day as datetime string
        @todayEnd   - end of the current day as datetime string
        @monthStart - beginning of the current month as datetime string
        @monthEnd   - end of the current month as datetime string
        @yearStart  - beginning of the current year as datetime string
        @yearEnd    - end of the current year as datetime string
    `}}),ve=new T({props:{content:"@request.data.publicDate >= @now"}}),_e=new ae({props:{title:":isset modifier",tag:"h5"}}),ye=new T({props:{content:`
        @request.data.role:isset = false
    `}}),be=new ae({props:{title:":length modifier",tag:"h5"}}),ge=new T({props:{content:`
        // check example submitted data: {"someSelectField": ["val1", "val2"]}
        @request.data.someSelectField:length > 1

        // check existing record field length
        someRelationField:length = 2
    `}}),we=new ae({props:{title:":each modifier",tag:"h5"}}),xe=new T({props:{content:`
        // check if all submitted select options contain the "create" text
        @request.data.someSelectField:each ~ "create"

        // check if all existing someSelectField has "pb_" prefix
        someSelectField:each ~ "pb_%"
    `}}),qe=new ae({props:{title:"Examples"}}),Oe=new T({props:{content:`
                @request.auth.id != ""
            `}}),Re=new T({props:{content:`
                @request.auth.id != "" && (status = "active" || status = "pending")
            `}}),De=new T({props:{content:`
                @request.auth.id != "" && allowed_users.id ?= @request.auth.id
            `}}),Ie=new T({props:{content:`
                title ~ "Lorem%"
            `}}),{c(){u(H.$$.fragment),fl=d(),u(ne.$$.fragment),ul=d(),ie=s("p"),Xe=s("strong"),Jl=o("API Rules"),Kl=o(" are your collection access controls and data filters."),ml=d(),K=s("p"),Ql=o("Each collection has "),Je=s("strong"),Wl=o("5 rules"),Zl=o(", corresponding to the specific API action:"),hl=d(),b=s("ul"),Ke=s("li"),Qe=s("code"),eo=o("listRule"),to=d(),We=s("li"),Ze=s("code"),lo=o("viewRule"),oo=d(),et=s("li"),tt=s("code"),ro=o("createRule"),so=d(),lt=s("li"),ot=s("code"),ao=o("updateRule"),no=d(),rt=s("li"),st=s("code"),io=o("deleteRule"),pl=d(),Q=s("p"),co=o("Auth collections has an additional "),at=s("code"),fo=o("options.manageRule"),uo=o(` used to allow one user (it could be even
    from a different collection) to be able to fully manage the data of another user (ex. changing their email,
    password, etc.).`),$l=d(),Pe=s("p"),mo=o("Each rule could be set to:"),El=d(),L=s("ul"),P=s("li"),nt=s("strong"),ho=o('"locked"'),po=o(" - aka. "),it=s("code"),$o=o("null"),Eo=o(`, which means that the action could be performed
        only by an authorized admin
        
        (`),dt=s("strong"),vo=o("this is the default"),_o=o(")"),yo=d(),Ae=s("li"),ct=s("strong"),bo=o("Empty string"),go=o(` - anyone will be able to perform the action (admins, authorized users and
        guests)`),wo=d(),Se=s("li"),ft=s("strong"),xo=o("Non-empty string"),qo=o(` - only users (authorized or not) that satisfy the rule filter expression
        will be able to perform this action`),vl=d(),M=s("div"),Fe=s("div"),ut=s("i"),ko=d(),A=s("div"),S=s("p"),mt=s("strong"),Oo=o("PocketBase API Rules act also as records filter!"),Co=d(),Ro=s("br"),Do=o(`
            Or in other words, you could for example allow listing only the "active" records of your collection,
            by using a simple filter expression such as:
            `),ht=s("code"),Io=o('status = "active"'),To=o(`
            (where "status" is a field defined in your Collection).`),Lo=d(),_=s("p"),Po=o(`Because of the above, the API will return 200 empty items response in case a request doesn't
            satisfy a `),pt=s("code"),Ao=o("listRule"),So=o(", 400 for unsatisfied "),$t=s("code"),Fo=o("createRule"),Go=o(` and 404 for
            unsatisfied `),Et=s("code"),No=o("viewRule"),zo=o(", "),vt=s("code"),Bo=o("updateRule"),Uo=o(" and "),_t=s("code"),Ho=o("deleteRule"),Mo=o(`.
            `),Yo=s("br"),Vo=o(`
            All rules will return 403 in case they were "locked" (aka. admin only) and the request client is not
            an admin.`),jo=d(),de=s("p"),Xo=o("The API Rules are ignored when the action is performed by an authorized admin ("),yt=s("strong"),Jo=o("admins can access everything"),Ko=o(")!"),_l=d(),u(ce.$$.fragment),yl=d(),Ge=s("p"),Qo=o("You could find information about the supported fields in your collection API rules tab:"),bl=d(),Y=s("img"),gl=d(),W=s("p"),Wo=o(`There is autocomplete to help you guide you while typing the rule filter expression, but in general, you
    have access to
    `),bt=s("strong"),Zo=o("3 groups of fields"),er=o(":"),wl=d(),F=s("ul"),V=s("li"),gt=s("strong"),tr=o("Your Collection schema fields"),lr=d(),or=s("br"),rr=o(`
        This also include all nested relations fields too, ex.
        `),wt=s("code"),sr=o('someRelField.status != "pending"'),ar=d(),j=s("li"),xt=s("code"),qt=s("strong"),nr=o("@request.*"),ir=d(),dr=s("br"),cr=o(`
        Used to access the current request data, such as query parameters, body/form data, authorized user state,
        etc.
        `),y=s("ul"),D=s("li"),kt=s("code"),fr=o("@request.context"),ur=o(` - the context where the rule is used (ex.
                `),Ot=s("code"),mr=o('@request.context != "oauth2"'),hr=o(`)
                `),pr=s("br"),$r=d(),g=s("small"),Er=o("The currently supported context values are "),Ct=s("code"),vr=o("default"),_r=o(", "),Rt=s("code"),yr=o("oauth2"),br=o(`,
                    `),Dt=s("code"),gr=o("realtime"),wr=o(", "),It=s("code"),xr=o("protectedFile"),qr=o("."),kr=d(),Z=s("li"),Tt=s("code"),Or=o("@request.method"),Cr=o(` - the HTTP request method (ex.
                `),Lt=s("code"),Rr=o('@request.method = "GET"'),Dr=o(")"),Ir=d(),I=s("li"),Pt=s("code"),Tr=o("@request.headers.*"),Lr=o(` - the request headers as string values (ex.
                `),At=s("code"),Pr=o('@request.headers.x_token = "test"'),Ar=o(`)
                `),Sr=s("br"),Fr=d(),Ne=s("small"),Gr=o(`Note: All header keys are normalized to lowercase and "-" is replaced with "_" (for
                    example "X-Token" is "x_token").`),Nr=d(),ee=s("li"),St=s("code"),zr=o("@request.query.*"),Br=o(` - the request query parameters as string values (ex.
                `),Ft=s("code"),Ur=o('@request.query.page = "1"'),Hr=o(")"),Mr=d(),te=s("li"),Gt=s("code"),Yr=o("@request.data.*"),Vr=o(` - the submitted body parameters (ex.
                `),Nt=s("code"),jr=o('@request.data.title != ""'),Xr=o(")"),Jr=d(),le=s("li"),zt=s("code"),Kr=o("@request.auth.*"),Qr=o(` - the current authenticated model (ex.
                `),Bt=s("code"),Wr=o('@request.auth.id != ""'),Zr=o(")"),es=d(),O=s("li"),Ut=s("code"),Ht=s("strong"),ts=o("@collection.*"),ls=d(),Mt=s("p"),os=o(`This filter could be used to target other collections that are not directly related to the current
            one (aka. there is no relation field pointing to it) but both shares a common field value, like
            for example a category id:`),rs=d(),u(fe.$$.fragment),ss=d(),ue=s("p"),as=o(`In case you want to join the same collection multiple times but based on different criteria, you
            can define an alias by appending `),Yt=s("code"),ns=o(":alias"),is=o(" suffix to the collection name."),ds=d(),u(me.$$.fragment),xl=d(),u(he.$$.fragment),ql=d(),u(pe.$$.fragment),kl=d(),u($e.$$.fragment),Ol=d(),ze=s("p"),cs=o("The following datetime macros are available and can be used as part of the filter expression:"),Cl=d(),u(Ee.$$.fragment),Rl=d(),Be=s("p"),fs=o("For example:"),Dl=d(),u(ve.$$.fragment),Il=d(),u(_e.$$.fragment),Tl=d(),G=s("p"),us=o("The "),Vt=s("code"),ms=o(":isset"),hs=o(" field modifier is available only for the "),jt=s("code"),ps=o("@request.*"),$s=o(` fields and can be
    used to check whether the client submitted a specific data with the request. Here is for example a rule that
    disallows changing a "role" field:`),Ll=d(),u(ye.$$.fragment),Pl=d(),u(be.$$.fragment),Al=d(),v=s("p"),Es=o("The "),Xt=s("code"),vs=o(":length"),_s=o(` field modifier could be used to check the number of items in an array field
    (multiple `),Jt=s("code"),ys=o("file"),bs=o(", "),Kt=s("code"),gs=o("select"),ws=o(", "),Qt=s("code"),xs=o("relation"),qs=o(`).
    `),ks=s("br"),Os=o(`
    Could be used with both the collection schema fields and the `),Wt=s("code"),Cs=o("@request.data.*"),Rs=o(" fields. For example:"),Sl=d(),u(ge.$$.fragment),Fl=d(),u(we.$$.fragment),Gl=d(),w=s("p"),Ds=o("The "),Zt=s("code"),Is=o(":each"),Ts=o(" field modifier works only with multiple "),el=s("code"),Ls=o("select"),Ps=o(", "),tl=s("code"),As=o("file"),Ss=o(` and
    `),ll=s("code"),Fs=o("relation"),Gs=o(`
    type fields. It could be used to apply a condition on each item from the field array. For example:`),Nl=d(),u(xe.$$.fragment),zl=d(),u(qe.$$.fragment),Bl=d(),C=s("ul"),ke=s("li"),Ns=o(`Allow only registered users:
        `),u(Oe.$$.fragment),zs=d(),Ce=s("li"),Bs=o(`Allow only registered users and return records that are either "active" or "pending":
        `),u(Re.$$.fragment),Us=d(),X=s("li"),Hs=o("Allow only registered users who are listed in an "),ol=s("em"),Ms=o("allowed_users"),Ys=o(` multi-relation field value:
        `),u(De.$$.fragment),Vs=d(),J=s("li"),js=o("Allow access by anyone and return only the records where the "),rl=s("em"),Xs=o("title"),Js=o(` field value starts with
        "Lorem" (ex. "Lorem ipsum"):
        `),u(Ie.$$.fragment),this.h()},l(t){m(H.$$.fragment,t),fl=c(t),m(ne.$$.fragment,t),ul=c(t),ie=a(t,"P",{});var i=n(ie);Xe=a(i,"STRONG",{});var ta=n(Xe);Jl=r(ta,"API Rules"),ta.forEach(l),Kl=r(i," are your collection access controls and data filters."),i.forEach(l),ml=c(t),K=a(t,"P",{});var Hl=n(K);Ql=r(Hl,"Each collection has "),Je=a(Hl,"STRONG",{});var la=n(Je);Wl=r(la,"5 rules"),la.forEach(l),Zl=r(Hl,", corresponding to the specific API action:"),Hl.forEach(l),hl=c(t),b=a(t,"UL",{});var N=n(b);Ke=a(N,"LI",{});var oa=n(Ke);Qe=a(oa,"CODE",{});var ra=n(Qe);eo=r(ra,"listRule"),ra.forEach(l),oa.forEach(l),to=c(N),We=a(N,"LI",{});var sa=n(We);Ze=a(sa,"CODE",{});var aa=n(Ze);lo=r(aa,"viewRule"),aa.forEach(l),sa.forEach(l),oo=c(N),et=a(N,"LI",{});var na=n(et);tt=a(na,"CODE",{});var ia=n(tt);ro=r(ia,"createRule"),ia.forEach(l),na.forEach(l),so=c(N),lt=a(N,"LI",{});var da=n(lt);ot=a(da,"CODE",{});var ca=n(ot);ao=r(ca,"updateRule"),ca.forEach(l),da.forEach(l),no=c(N),rt=a(N,"LI",{});var fa=n(rt);st=a(fa,"CODE",{});var ua=n(st);io=r(ua,"deleteRule"),ua.forEach(l),fa.forEach(l),N.forEach(l),pl=c(t),Q=a(t,"P",{});var Ml=n(Q);co=r(Ml,"Auth collections has an additional "),at=a(Ml,"CODE",{});var ma=n(at);fo=r(ma,"options.manageRule"),ma.forEach(l),uo=r(Ml,` used to allow one user (it could be even
    from a different collection) to be able to fully manage the data of another user (ex. changing their email,
    password, etc.).`),Ml.forEach(l),$l=c(t),Pe=a(t,"P",{});var ha=n(Pe);mo=r(ha,"Each rule could be set to:"),ha.forEach(l),El=c(t),L=a(t,"UL",{});var Ue=n(L);P=a(Ue,"LI",{});var Te=n(P);nt=a(Te,"STRONG",{});var pa=n(nt);ho=r(pa,'"locked"'),pa.forEach(l),po=r(Te," - aka. "),it=a(Te,"CODE",{});var $a=n(it);$o=r($a,"null"),$a.forEach(l),Eo=r(Te,`, which means that the action could be performed
        only by an authorized admin
        
        (`),dt=a(Te,"STRONG",{});var Ea=n(dt);vo=r(Ea,"this is the default"),Ea.forEach(l),_o=r(Te,")"),Te.forEach(l),yo=c(Ue),Ae=a(Ue,"LI",{});var Ks=n(Ae);ct=a(Ks,"STRONG",{});var va=n(ct);bo=r(va,"Empty string"),va.forEach(l),go=r(Ks,` - anyone will be able to perform the action (admins, authorized users and
        guests)`),Ks.forEach(l),wo=c(Ue),Se=a(Ue,"LI",{});var Qs=n(Se);ft=a(Qs,"STRONG",{});var _a=n(ft);xo=r(_a,"Non-empty string"),_a.forEach(l),qo=r(Qs,` - only users (authorized or not) that satisfy the rule filter expression
        will be able to perform this action`),Qs.forEach(l),Ue.forEach(l),vl=c(t),M=a(t,"DIV",{class:!0});var Yl=n(M);Fe=a(Yl,"DIV",{class:!0});var ya=n(Fe);ut=a(ya,"I",{class:!0}),n(ut).forEach(l),ya.forEach(l),ko=c(Yl),A=a(Yl,"DIV",{class:!0});var He=n(A);S=a(He,"P",{});var Le=n(S);mt=a(Le,"STRONG",{});var ba=n(mt);Oo=r(ba,"PocketBase API Rules act also as records filter!"),ba.forEach(l),Co=c(Le),Ro=a(Le,"BR",{}),Do=r(Le,`
            Or in other words, you could for example allow listing only the "active" records of your collection,
            by using a simple filter expression such as:
            `),ht=a(Le,"CODE",{});var ga=n(ht);Io=r(ga,'status = "active"'),ga.forEach(l),To=r(Le,`
            (where "status" is a field defined in your Collection).`),Le.forEach(l),Lo=c(He),_=a(He,"P",{});var x=n(_);Po=r(x,`Because of the above, the API will return 200 empty items response in case a request doesn't
            satisfy a `),pt=a(x,"CODE",{});var wa=n(pt);Ao=r(wa,"listRule"),wa.forEach(l),So=r(x,", 400 for unsatisfied "),$t=a(x,"CODE",{});var xa=n($t);Fo=r(xa,"createRule"),xa.forEach(l),Go=r(x,` and 404 for
            unsatisfied `),Et=a(x,"CODE",{});var qa=n(Et);No=r(qa,"viewRule"),qa.forEach(l),zo=r(x,", "),vt=a(x,"CODE",{});var ka=n(vt);Bo=r(ka,"updateRule"),ka.forEach(l),Uo=r(x," and "),_t=a(x,"CODE",{});var Oa=n(_t);Ho=r(Oa,"deleteRule"),Oa.forEach(l),Mo=r(x,`.
            `),Yo=a(x,"BR",{}),Vo=r(x,`
            All rules will return 403 in case they were "locked" (aka. admin only) and the request client is not
            an admin.`),x.forEach(l),jo=c(He),de=a(He,"P",{});var Vl=n(de);Xo=r(Vl,"The API Rules are ignored when the action is performed by an authorized admin ("),yt=a(Vl,"STRONG",{});var Ca=n(yt);Jo=r(Ca,"admins can access everything"),Ca.forEach(l),Ko=r(Vl,")!"),Vl.forEach(l),He.forEach(l),Yl.forEach(l),_l=c(t),m(ce.$$.fragment,t),yl=c(t),Ge=a(t,"P",{});var Ra=n(Ge);Qo=r(Ra,"You could find information about the supported fields in your collection API rules tab:"),Ra.forEach(l),bl=c(t),Y=a(t,"IMG",{src:!0,alt:!0,class:!0,width:!0}),gl=c(t),W=a(t,"P",{});var jl=n(W);Wo=r(jl,`There is autocomplete to help you guide you while typing the rule filter expression, but in general, you
    have access to
    `),bt=a(jl,"STRONG",{});var Da=n(bt);Zo=r(Da,"3 groups of fields"),Da.forEach(l),er=r(jl,":"),jl.forEach(l),wl=c(t),F=a(t,"UL",{});var Me=n(F);V=a(Me,"LI",{});var Ye=n(V);gt=a(Ye,"STRONG",{});var Ia=n(gt);tr=r(Ia,"Your Collection schema fields"),Ia.forEach(l),lr=c(Ye),or=a(Ye,"BR",{}),rr=r(Ye,`
        This also include all nested relations fields too, ex.
        `),wt=a(Ye,"CODE",{});var Ta=n(wt);sr=r(Ta,'someRelField.status != "pending"'),Ta.forEach(l),Ye.forEach(l),ar=c(Me),j=a(Me,"LI",{});var Ve=n(j);xt=a(Ve,"CODE",{});var La=n(xt);qt=a(La,"STRONG",{});var Pa=n(qt);nr=r(Pa,"@request.*"),Pa.forEach(l),La.forEach(l),ir=c(Ve),dr=a(Ve,"BR",{}),cr=r(Ve,`
        Used to access the current request data, such as query parameters, body/form data, authorized user state,
        etc.
        `),y=a(Ve,"UL",{});var R=n(y);D=a(R,"LI",{});var oe=n(D);kt=a(oe,"CODE",{});var Aa=n(kt);fr=r(Aa,"@request.context"),Aa.forEach(l),ur=r(oe,` - the context where the rule is used (ex.
                `),Ot=a(oe,"CODE",{});var Sa=n(Ot);mr=r(Sa,'@request.context != "oauth2"'),Sa.forEach(l),hr=r(oe,`)
                `),pr=a(oe,"BR",{}),$r=c(oe),g=a(oe,"SMALL",{class:!0});var z=n(g);Er=r(z,"The currently supported context values are "),Ct=a(z,"CODE",{});var Fa=n(Ct);vr=r(Fa,"default"),Fa.forEach(l),_r=r(z,", "),Rt=a(z,"CODE",{});var Ga=n(Rt);yr=r(Ga,"oauth2"),Ga.forEach(l),br=r(z,`,
                    `),Dt=a(z,"CODE",{});var Na=n(Dt);gr=r(Na,"realtime"),Na.forEach(l),wr=r(z,", "),It=a(z,"CODE",{});var za=n(It);xr=r(za,"protectedFile"),za.forEach(l),qr=r(z,"."),z.forEach(l),oe.forEach(l),kr=c(R),Z=a(R,"LI",{});var sl=n(Z);Tt=a(sl,"CODE",{});var Ba=n(Tt);Or=r(Ba,"@request.method"),Ba.forEach(l),Cr=r(sl,` - the HTTP request method (ex.
                `),Lt=a(sl,"CODE",{});var Ua=n(Lt);Rr=r(Ua,'@request.method = "GET"'),Ua.forEach(l),Dr=r(sl,")"),sl.forEach(l),Ir=c(R),I=a(R,"LI",{});var re=n(I);Pt=a(re,"CODE",{});var Ha=n(Pt);Tr=r(Ha,"@request.headers.*"),Ha.forEach(l),Lr=r(re,` - the request headers as string values (ex.
                `),At=a(re,"CODE",{});var Ma=n(At);Pr=r(Ma,'@request.headers.x_token = "test"'),Ma.forEach(l),Ar=r(re,`)
                `),Sr=a(re,"BR",{}),Fr=c(re),Ne=a(re,"SMALL",{class:!0});var Ya=n(Ne);Gr=r(Ya,`Note: All header keys are normalized to lowercase and "-" is replaced with "_" (for
                    example "X-Token" is "x_token").`),Ya.forEach(l),re.forEach(l),Nr=c(R),ee=a(R,"LI",{});var al=n(ee);St=a(al,"CODE",{});var Va=n(St);zr=r(Va,"@request.query.*"),Va.forEach(l),Br=r(al,` - the request query parameters as string values (ex.
                `),Ft=a(al,"CODE",{});var ja=n(Ft);Ur=r(ja,'@request.query.page = "1"'),ja.forEach(l),Hr=r(al,")"),al.forEach(l),Mr=c(R),te=a(R,"LI",{});var nl=n(te);Gt=a(nl,"CODE",{});var Xa=n(Gt);Yr=r(Xa,"@request.data.*"),Xa.forEach(l),Vr=r(nl,` - the submitted body parameters (ex.
                `),Nt=a(nl,"CODE",{});var Ja=n(Nt);jr=r(Ja,'@request.data.title != ""'),Ja.forEach(l),Xr=r(nl,")"),nl.forEach(l),Jr=c(R),le=a(R,"LI",{});var il=n(le);zt=a(il,"CODE",{});var Ka=n(zt);Kr=r(Ka,"@request.auth.*"),Ka.forEach(l),Qr=r(il,` - the current authenticated model (ex.
                `),Bt=a(il,"CODE",{});var Qa=n(Bt);Wr=r(Qa,'@request.auth.id != ""'),Qa.forEach(l),Zr=r(il,")"),il.forEach(l),R.forEach(l),Ve.forEach(l),es=c(Me),O=a(Me,"LI",{});var B=n(O);Ut=a(B,"CODE",{});var Wa=n(Ut);Ht=a(Wa,"STRONG",{});var Za=n(Ht);ts=r(Za,"@collection.*"),Za.forEach(l),Wa.forEach(l),ls=c(B),Mt=a(B,"P",{});var en=n(Mt);os=r(en,`This filter could be used to target other collections that are not directly related to the current
            one (aka. there is no relation field pointing to it) but both shares a common field value, like
            for example a category id:`),en.forEach(l),rs=c(B),m(fe.$$.fragment,B),ss=c(B),ue=a(B,"P",{});var Xl=n(ue);as=r(Xl,`In case you want to join the same collection multiple times but based on different criteria, you
            can define an alias by appending `),Yt=a(Xl,"CODE",{});var tn=n(Yt);ns=r(tn,":alias"),tn.forEach(l),is=r(Xl," suffix to the collection name."),Xl.forEach(l),ds=c(B),m(me.$$.fragment,B),B.forEach(l),Me.forEach(l),xl=c(t),m(he.$$.fragment,t),ql=c(t),m(pe.$$.fragment,t),kl=c(t),m($e.$$.fragment,t),Ol=c(t),ze=a(t,"P",{});var ln=n(ze);cs=r(ln,"The following datetime macros are available and can be used as part of the filter expression:"),ln.forEach(l),Cl=c(t),m(Ee.$$.fragment,t),Rl=c(t),Be=a(t,"P",{});var on=n(Be);fs=r(on,"For example:"),on.forEach(l),Dl=c(t),m(ve.$$.fragment,t),Il=c(t),m(_e.$$.fragment,t),Tl=c(t),G=a(t,"P",{});var je=n(G);us=r(je,"The "),Vt=a(je,"CODE",{});var rn=n(Vt);ms=r(rn,":isset"),rn.forEach(l),hs=r(je," field modifier is available only for the "),jt=a(je,"CODE",{});var sn=n(jt);ps=r(sn,"@request.*"),sn.forEach(l),$s=r(je,` fields and can be
    used to check whether the client submitted a specific data with the request. Here is for example a rule that
    disallows changing a "role" field:`),je.forEach(l),Ll=c(t),m(ye.$$.fragment,t),Pl=c(t),m(be.$$.fragment,t),Al=c(t),v=a(t,"P",{});var q=n(v);Es=r(q,"The "),Xt=a(q,"CODE",{});var an=n(Xt);vs=r(an,":length"),an.forEach(l),_s=r(q,` field modifier could be used to check the number of items in an array field
    (multiple `),Jt=a(q,"CODE",{});var nn=n(Jt);ys=r(nn,"file"),nn.forEach(l),bs=r(q,", "),Kt=a(q,"CODE",{});var dn=n(Kt);gs=r(dn,"select"),dn.forEach(l),ws=r(q,", "),Qt=a(q,"CODE",{});var cn=n(Qt);xs=r(cn,"relation"),cn.forEach(l),qs=r(q,`).
    `),ks=a(q,"BR",{}),Os=r(q,`
    Could be used with both the collection schema fields and the `),Wt=a(q,"CODE",{});var fn=n(Wt);Cs=r(fn,"@request.data.*"),fn.forEach(l),Rs=r(q," fields. For example:"),q.forEach(l),Sl=c(t),m(ge.$$.fragment,t),Fl=c(t),m(we.$$.fragment,t),Gl=c(t),w=a(t,"P",{});var U=n(w);Ds=r(U,"The "),Zt=a(U,"CODE",{});var un=n(Zt);Is=r(un,":each"),un.forEach(l),Ts=r(U," field modifier works only with multiple "),el=a(U,"CODE",{});var mn=n(el);Ls=r(mn,"select"),mn.forEach(l),Ps=r(U,", "),tl=a(U,"CODE",{});var hn=n(tl);As=r(hn,"file"),hn.forEach(l),Ss=r(U,` and
    `),ll=a(U,"CODE",{});var pn=n(ll);Fs=r(pn,"relation"),pn.forEach(l),Gs=r(U,`
    type fields. It could be used to apply a condition on each item from the field array. For example:`),U.forEach(l),Nl=c(t),m(xe.$$.fragment,t),zl=c(t),m(qe.$$.fragment,t),Bl=c(t),C=a(t,"UL",{});var se=n(C);ke=a(se,"LI",{class:!0});var Ws=n(ke);Ns=r(Ws,`Allow only registered users:
        `),m(Oe.$$.fragment,Ws),Ws.forEach(l),zs=c(se),Ce=a(se,"LI",{class:!0});var Zs=n(Ce);Bs=r(Zs,`Allow only registered users and return records that are either "active" or "pending":
        `),m(Re.$$.fragment,Zs),Zs.forEach(l),Us=c(se),X=a(se,"LI",{class:!0});var dl=n(X);Hs=r(dl,"Allow only registered users who are listed in an "),ol=a(dl,"EM",{});var $n=n(ol);Ms=r($n,"allowed_users"),$n.forEach(l),Ys=r(dl,` multi-relation field value:
        `),m(De.$$.fragment,dl),dl.forEach(l),Vs=c(se),J=a(se,"LI",{class:!0});var cl=n(J);js=r(cl,"Allow access by anyone and return only the records where the "),rl=a(cl,"EM",{});var En=n(rl);Xs=r(En,"title"),En.forEach(l),Js=r(cl,` field value starts with
        "Lorem" (ex. "Lorem ipsum"):
        `),m(Ie.$$.fragment,cl),cl.forEach(l),se.forEach(l),this.h()},h(){k(ut,"class","ri-information-line"),k(Fe,"class","icon"),k(A,"class","content"),k(M,"class","alert alert-info"),gn(Y.src,ea="/images/screenshots/collection-rules.png")||k(Y,"src",ea),k(Y,"alt","Collection API Rules filters screenshot"),k(Y,"class","screenshot"),k(Y,"width","550"),k(g,"class","txt-hint"),k(Ne,"class","txt-hint"),k(ke,"class","m-b-sm"),k(Ce,"class","m-b-sm"),k(X,"class","m-b-sm"),k(J,"class","m-b-sm")},m(t,i){h(H,t,i),f(t,fl,i),h(ne,t,i),f(t,ul,i),f(t,ie,i),e(ie,Xe),e(Xe,Jl),e(ie,Kl),f(t,ml,i),f(t,K,i),e(K,Ql),e(K,Je),e(Je,Wl),e(K,Zl),f(t,hl,i),f(t,b,i),e(b,Ke),e(Ke,Qe),e(Qe,eo),e(b,to),e(b,We),e(We,Ze),e(Ze,lo),e(b,oo),e(b,et),e(et,tt),e(tt,ro),e(b,so),e(b,lt),e(lt,ot),e(ot,ao),e(b,no),e(b,rt),e(rt,st),e(st,io),f(t,pl,i),f(t,Q,i),e(Q,co),e(Q,at),e(at,fo),e(Q,uo),f(t,$l,i),f(t,Pe,i),e(Pe,mo),f(t,El,i),f(t,L,i),e(L,P),e(P,nt),e(nt,ho),e(P,po),e(P,it),e(it,$o),e(P,Eo),e(P,dt),e(dt,vo),e(P,_o),e(L,yo),e(L,Ae),e(Ae,ct),e(ct,bo),e(Ae,go),e(L,wo),e(L,Se),e(Se,ft),e(ft,xo),e(Se,qo),f(t,vl,i),f(t,M,i),e(M,Fe),e(Fe,ut),e(M,ko),e(M,A),e(A,S),e(S,mt),e(mt,Oo),e(S,Co),e(S,Ro),e(S,Do),e(S,ht),e(ht,Io),e(S,To),e(A,Lo),e(A,_),e(_,Po),e(_,pt),e(pt,Ao),e(_,So),e(_,$t),e($t,Fo),e(_,Go),e(_,Et),e(Et,No),e(_,zo),e(_,vt),e(vt,Bo),e(_,Uo),e(_,_t),e(_t,Ho),e(_,Mo),e(_,Yo),e(_,Vo),e(A,jo),e(A,de),e(de,Xo),e(de,yt),e(yt,Jo),e(de,Ko),f(t,_l,i),h(ce,t,i),f(t,yl,i),f(t,Ge,i),e(Ge,Qo),f(t,bl,i),f(t,Y,i),f(t,gl,i),f(t,W,i),e(W,Wo),e(W,bt),e(bt,Zo),e(W,er),f(t,wl,i),f(t,F,i),e(F,V),e(V,gt),e(gt,tr),e(V,lr),e(V,or),e(V,rr),e(V,wt),e(wt,sr),e(F,ar),e(F,j),e(j,xt),e(xt,qt),e(qt,nr),e(j,ir),e(j,dr),e(j,cr),e(j,y),e(y,D),e(D,kt),e(kt,fr),e(D,ur),e(D,Ot),e(Ot,mr),e(D,hr),e(D,pr),e(D,$r),e(D,g),e(g,Er),e(g,Ct),e(Ct,vr),e(g,_r),e(g,Rt),e(Rt,yr),e(g,br),e(g,Dt),e(Dt,gr),e(g,wr),e(g,It),e(It,xr),e(g,qr),e(y,kr),e(y,Z),e(Z,Tt),e(Tt,Or),e(Z,Cr),e(Z,Lt),e(Lt,Rr),e(Z,Dr),e(y,Ir),e(y,I),e(I,Pt),e(Pt,Tr),e(I,Lr),e(I,At),e(At,Pr),e(I,Ar),e(I,Sr),e(I,Fr),e(I,Ne),e(Ne,Gr),e(y,Nr),e(y,ee),e(ee,St),e(St,zr),e(ee,Br),e(ee,Ft),e(Ft,Ur),e(ee,Hr),e(y,Mr),e(y,te),e(te,Gt),e(Gt,Yr),e(te,Vr),e(te,Nt),e(Nt,jr),e(te,Xr),e(y,Jr),e(y,le),e(le,zt),e(zt,Kr),e(le,Qr),e(le,Bt),e(Bt,Wr),e(le,Zr),e(F,es),e(F,O),e(O,Ut),e(Ut,Ht),e(Ht,ts),e(O,ls),e(O,Mt),e(Mt,os),e(O,rs),h(fe,O,null),e(O,ss),e(O,ue),e(ue,as),e(ue,Yt),e(Yt,ns),e(ue,is),e(O,ds),h(me,O,null),f(t,xl,i),h(he,t,i),f(t,ql,i),h(pe,t,i),f(t,kl,i),h($e,t,i),f(t,Ol,i),f(t,ze,i),e(ze,cs),f(t,Cl,i),h(Ee,t,i),f(t,Rl,i),f(t,Be,i),e(Be,fs),f(t,Dl,i),h(ve,t,i),f(t,Il,i),h(_e,t,i),f(t,Tl,i),f(t,G,i),e(G,us),e(G,Vt),e(Vt,ms),e(G,hs),e(G,jt),e(jt,ps),e(G,$s),f(t,Ll,i),h(ye,t,i),f(t,Pl,i),h(be,t,i),f(t,Al,i),f(t,v,i),e(v,Es),e(v,Xt),e(Xt,vs),e(v,_s),e(v,Jt),e(Jt,ys),e(v,bs),e(v,Kt),e(Kt,gs),e(v,ws),e(v,Qt),e(Qt,xs),e(v,qs),e(v,ks),e(v,Os),e(v,Wt),e(Wt,Cs),e(v,Rs),f(t,Sl,i),h(ge,t,i),f(t,Fl,i),h(we,t,i),f(t,Gl,i),f(t,w,i),e(w,Ds),e(w,Zt),e(Zt,Is),e(w,Ts),e(w,el),e(el,Ls),e(w,Ps),e(w,tl),e(tl,As),e(w,Ss),e(w,ll),e(ll,Fs),e(w,Gs),f(t,Nl,i),h(xe,t,i),f(t,zl,i),h(qe,t,i),f(t,Bl,i),f(t,C,i),e(C,ke),e(ke,Ns),h(Oe,ke,null),e(C,zs),e(C,Ce),e(Ce,Bs),h(Re,Ce,null),e(C,Us),e(C,X),e(X,Hs),e(X,ol),e(ol,Ms),e(X,Ys),h(De,X,null),e(C,Vs),e(C,J),e(J,js),e(J,rl),e(rl,Xs),e(J,Js),h(Ie,J,null),Ul=!0},p:wn,i(t){Ul||(p(H.$$.fragment,t),p(ne.$$.fragment,t),p(ce.$$.fragment,t),p(fe.$$.fragment,t),p(me.$$.fragment,t),p(he.$$.fragment,t),p(pe.$$.fragment,t),p($e.$$.fragment,t),p(Ee.$$.fragment,t),p(ve.$$.fragment,t),p(_e.$$.fragment,t),p(ye.$$.fragment,t),p(be.$$.fragment,t),p(ge.$$.fragment,t),p(we.$$.fragment,t),p(xe.$$.fragment,t),p(qe.$$.fragment,t),p(Oe.$$.fragment,t),p(Re.$$.fragment,t),p(De.$$.fragment,t),p(Ie.$$.fragment,t),Ul=!0)},o(t){$(H.$$.fragment,t),$(ne.$$.fragment,t),$(ce.$$.fragment,t),$(fe.$$.fragment,t),$(me.$$.fragment,t),$(he.$$.fragment,t),$(pe.$$.fragment,t),$($e.$$.fragment,t),$(Ee.$$.fragment,t),$(ve.$$.fragment,t),$(_e.$$.fragment,t),$(ye.$$.fragment,t),$(be.$$.fragment,t),$(ge.$$.fragment,t),$(we.$$.fragment,t),$(xe.$$.fragment,t),$(qe.$$.fragment,t),$(Oe.$$.fragment,t),$(Re.$$.fragment,t),$(De.$$.fragment,t),$(Ie.$$.fragment,t),Ul=!1},d(t){E(H,t),t&&l(fl),E(ne,t),t&&l(ul),t&&l(ie),t&&l(ml),t&&l(K),t&&l(hl),t&&l(b),t&&l(pl),t&&l(Q),t&&l($l),t&&l(Pe),t&&l(El),t&&l(L),t&&l(vl),t&&l(M),t&&l(_l),E(ce,t),t&&l(yl),t&&l(Ge),t&&l(bl),t&&l(Y),t&&l(gl),t&&l(W),t&&l(wl),t&&l(F),E(fe),E(me),t&&l(xl),E(he,t),t&&l(ql),E(pe,t),t&&l(kl),E($e,t),t&&l(Ol),t&&l(ze),t&&l(Cl),E(Ee,t),t&&l(Rl),t&&l(Be),t&&l(Dl),E(ve,t),t&&l(Il),E(_e,t),t&&l(Tl),t&&l(G),t&&l(Ll),E(ye,t),t&&l(Pl),E(be,t),t&&l(Al),t&&l(v),t&&l(Sl),E(ge,t),t&&l(Fl),E(we,t),t&&l(Gl),t&&l(w),t&&l(Nl),E(xe,t),t&&l(zl),E(qe,t),t&&l(Bl),t&&l(C),E(Oe),E(Re),E(De),E(Ie)}}}class Tn extends _n{constructor(H){super(),yn(this,H,null,kn,bn,{})}}export{Tn as component};
