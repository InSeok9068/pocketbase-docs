import{S as Fl,i as Bl,s as Cl,y as we,z as ye,A as Ie,g as ne,d as ie,B as Se,k as a,q as c,a as v,l as o,m as s,r as d,h as t,c as _,n as m,b as k,G as e,N as qt,R as Lr,v as Ur,O as Kr,f as jr,K as Oe,L as Qr,H as Jr}from"../chunks/index.a7566c1a.js";import{C as ql}from"../chunks/CodeBlock.a090ee9b.js";import{A as Yr}from"../chunks/Accordion.71344b00.js";import{T as Wr}from"../chunks/ThumbFormats.e63d1815.js";function Gr(T,l,r){const i=T.slice();return i[3]=l[r],i}function Fr(T,l,r){const i=T.slice();return i[3]=l[r],i}function Br(T,l){let r,i=l[3].code+"",b,E,h,g;function P(){return l[2](l[3])}return{key:T,first:null,c(){r=a("button"),b=c(i),E=v(),this.h()},l(w){r=o(w,"BUTTON",{class:!0});var D=s(r);b=d(D,i),E=_(D),D.forEach(t),this.h()},h(){m(r,"class","tab-item"),Oe(r,"active",l[0]===l[3].code),this.first=r},m(w,D){k(w,r,D),e(r,b),e(r,E),h||(g=Qr(r,"click",P),h=!0)},p(w,D){l=w,D&3&&Oe(r,"active",l[0]===l[3].code)},d(w){w&&t(r),h=!1,g()}}}function Cr(T,l){let r,i,b,E;return i=new ql({props:{content:l[3].body}}),{key:T,first:null,c(){r=a("div"),we(i.$$.fragment),b=v(),this.h()},l(h){r=o(h,"DIV",{class:!0});var g=s(r);ye(i.$$.fragment,g),b=_(g),g.forEach(t),this.h()},h(){m(r,"class","tab-item"),Oe(r,"active",l[0]===l[3].code),this.first=r},m(h,g){k(h,r,g),Ie(i,r,null),e(r,b),E=!0},p(h,g){l=h,(!E||g&3)&&Oe(r,"active",l[0]===l[3].code)},i(h){E||(ne(i.$$.fragment,h),E=!0)},o(h){ie(i.$$.fragment,h),E=!1},d(h){h&&t(r),Se(i)}}}function Xr(T){let l,r,i,b,E,h,g,P,w,D,S,F,N,O,A,q,$,I,W,le,B,x,ce,Ee,H,j,Q,re,Y,ee,V,qe,Re,z,R,He,M,L,be,de,ze,f,p,y,Me,$e,Le,ae,X,Te,Pe,Ue,ke,te,Ke,je,J,Ht,zt,fe,_t,Mt,Lt,pt,Qe,Ut,Kt,mt,jt,St,Ne,Qt,Ot,he,gt,ue,Et,Yt,Jt,bt,Wt,Xt,Ye,Zt,xt,ve,_e,Je,el,tl,We,Xe,ll,rl,De,al,Ae,ol,sl,pe,Ze,nl,il,xe,et,cl,dl,U,fl,$t,hl,ul,Tt,vl,_l,pl,ml,tt,gl,El,bl,me,lt,$l,Tl,rt,at,kl,Dl,K,wl,kt,yl,Il,Dt,Sl,Ol,wt,Rl,Pl,yt,Nl,Al,Rt,Ve,Vl,Pt,ge,Ge,Z=[],Hl=new Map,Gl,Fe,C=[],zl=new Map,Nt;E=new ql({props:{language:"html",content:`
                    <img src="http://example.com/api/files/demo/1234abcd/test.png" alt="Test image" />
                `}}),Ae=new Wr({});let At=T[1];const Ml=n=>n[3].code;for(let n=0;n<At.length;n+=1){let u=Fr(T,At,n),G=Ml(u);Hl.set(G,Z[n]=Br(G,u))}let It=T[1];const Ll=n=>n[3].code;for(let n=0;n<It.length;n+=1){let u=Gr(T,It,n),G=Ll(u);zl.set(G,C[n]=Cr(G,u))}return{c(){l=a("div"),r=a("p"),i=c("Downloads a single file resource (aka. the URL address to the file). Example:"),b=v(),we(E.$$.fragment),h=v(),g=a("div"),P=a("strong"),w=c("GET"),D=v(),S=a("div"),F=c("/api/files/"),N=a("code"),O=c("collectionIdOrName"),A=c("/"),q=a("code"),$=c("recordId"),I=c("/"),W=a("code"),le=c("filename"),B=v(),x=a("div"),ce=c("Path parameters"),Ee=v(),H=a("table"),j=a("thead"),Q=a("tr"),re=a("th"),Y=c("Param"),ee=v(),V=a("th"),qe=c("Type"),Re=v(),z=a("th"),R=c("Description"),He=v(),M=a("tbody"),L=a("tr"),be=a("td"),de=c("collectionIdOrName"),ze=v(),f=a("td"),p=a("span"),y=c("String"),Me=v(),$e=a("td"),Le=c("ID or name of the collection whose record model contains the file resource."),ae=v(),X=a("tr"),Te=a("td"),Pe=c("recordId"),Ue=v(),ke=a("td"),te=a("span"),Ke=c("String"),je=v(),J=a("td"),Ht=c("ID of the record model that contains the file resource."),zt=v(),fe=a("tr"),_t=a("td"),Mt=c("filename"),Lt=v(),pt=a("td"),Qe=a("span"),Ut=c("String"),Kt=v(),mt=a("td"),jt=c("Name of the file resource."),St=v(),Ne=a("div"),Qt=c("Query parameters"),Ot=v(),he=a("table"),gt=a("thead"),ue=a("tr"),Et=a("th"),Yt=c("Param"),Jt=v(),bt=a("th"),Wt=c("Type"),Xt=v(),Ye=a("th"),Zt=c("Description"),xt=v(),ve=a("tbody"),_e=a("tr"),Je=a("td"),el=c("thumb"),tl=v(),We=a("td"),Xe=a("span"),ll=c("String"),rl=v(),De=a("td"),al=c(`Get the thumb of the requested file.
                    `),we(Ae.$$.fragment),ol=c(`
                    If the thumb size is not defined in the file schema field options or the file resource is not
                    an image (jpg, png, gif), then the original file resource is returned unmodified.`),sl=v(),pe=a("tr"),Ze=a("td"),nl=c("token"),il=v(),xe=a("td"),et=a("span"),cl=c("String"),dl=v(),U=a("td"),fl=c("Optional "),$t=a("strong"),hl=c("file token"),ul=c(` for granting access to
                    `),Tt=a("strong"),vl=c("protected file(s)"),_l=c(`.
                    `),pl=a("br"),ml=c(`
                    For an example, you can check
                    `),tt=a("a"),gl=c('"Files upload and handling"'),El=c("."),bl=v(),me=a("tr"),lt=a("td"),$l=c("download"),Tl=v(),rt=a("td"),at=a("span"),kl=c("Boolean"),Dl=v(),K=a("td"),wl=c("If it is set to a truthy value ("),kt=a("em"),yl=c("1"),Il=c(", "),Dt=a("em"),Sl=c("t"),Ol=c(", "),wt=a("em"),Rl=c("true"),Pl=c(`) the file will be
                    served with `),yt=a("code"),Nl=c("Content-Disposition: attachment"),Al=c(` header instructing the browser to
                    ignore the file preview for pdf, images, videos, etc. and to directly download the file.`),Rt=v(),Ve=a("div"),Vl=c("Responses"),Pt=v(),ge=a("div"),Ge=a("div");for(let n=0;n<Z.length;n+=1)Z[n].c();Gl=v(),Fe=a("div");for(let n=0;n<C.length;n+=1)C[n].c();this.h()},l(n){l=o(n,"DIV",{class:!0});var u=s(l);r=o(u,"P",{});var G=s(r);i=d(G,"Downloads a single file resource (aka. the URL address to the file). Example:"),G.forEach(t),b=_(u),ye(E.$$.fragment,u),u.forEach(t),h=_(n),g=o(n,"DIV",{class:!0});var Vt=s(g);P=o(Vt,"STRONG",{class:!0});var Ul=s(P);w=d(Ul,"GET"),Ul.forEach(t),D=_(Vt),S=o(Vt,"DIV",{class:!0});var Be=s(S);F=d(Be,"/api/files/"),N=o(Be,"CODE",{});var Kl=s(N);O=d(Kl,"collectionIdOrName"),Kl.forEach(t),A=d(Be,"/"),q=o(Be,"CODE",{});var jl=s(q);$=d(jl,"recordId"),jl.forEach(t),I=d(Be,"/"),W=o(Be,"CODE",{});var Ql=s(W);le=d(Ql,"filename"),Ql.forEach(t),Be.forEach(t),Vt.forEach(t),B=_(n),x=o(n,"DIV",{class:!0});var Yl=s(x);ce=d(Yl,"Path parameters"),Yl.forEach(t),Ee=_(n),H=o(n,"TABLE",{class:!0});var Gt=s(H);j=o(Gt,"THEAD",{});var Jl=s(j);Q=o(Jl,"TR",{});var ot=s(Q);re=o(ot,"TH",{});var Wl=s(re);Y=d(Wl,"Param"),Wl.forEach(t),ee=_(ot),V=o(ot,"TH",{});var Xl=s(V);qe=d(Xl,"Type"),Xl.forEach(t),Re=_(ot),z=o(ot,"TH",{width:!0});var Zl=s(z);R=d(Zl,"Description"),Zl.forEach(t),ot.forEach(t),Jl.forEach(t),He=_(Gt),M=o(Gt,"TBODY",{});var st=s(M);L=o(st,"TR",{});var nt=s(L);be=o(nt,"TD",{});var xl=s(be);de=d(xl,"collectionIdOrName"),xl.forEach(t),ze=_(nt),f=o(nt,"TD",{});var er=s(f);p=o(er,"SPAN",{class:!0});var tr=s(p);y=d(tr,"String"),tr.forEach(t),er.forEach(t),Me=_(nt),$e=o(nt,"TD",{});var lr=s($e);Le=d(lr,"ID or name of the collection whose record model contains the file resource."),lr.forEach(t),nt.forEach(t),ae=_(st),X=o(st,"TR",{});var it=s(X);Te=o(it,"TD",{});var rr=s(Te);Pe=d(rr,"recordId"),rr.forEach(t),Ue=_(it),ke=o(it,"TD",{});var ar=s(ke);te=o(ar,"SPAN",{class:!0});var or=s(te);Ke=d(or,"String"),or.forEach(t),ar.forEach(t),je=_(it),J=o(it,"TD",{});var sr=s(J);Ht=d(sr,"ID of the record model that contains the file resource."),sr.forEach(t),it.forEach(t),zt=_(st),fe=o(st,"TR",{});var ct=s(fe);_t=o(ct,"TD",{});var nr=s(_t);Mt=d(nr,"filename"),nr.forEach(t),Lt=_(ct),pt=o(ct,"TD",{});var ir=s(pt);Qe=o(ir,"SPAN",{class:!0});var cr=s(Qe);Ut=d(cr,"String"),cr.forEach(t),ir.forEach(t),Kt=_(ct),mt=o(ct,"TD",{});var dr=s(mt);jt=d(dr,"Name of the file resource."),dr.forEach(t),ct.forEach(t),st.forEach(t),Gt.forEach(t),St=_(n),Ne=o(n,"DIV",{class:!0});var fr=s(Ne);Qt=d(fr,"Query parameters"),fr.forEach(t),Ot=_(n),he=o(n,"TABLE",{class:!0});var Ft=s(he);gt=o(Ft,"THEAD",{});var hr=s(gt);ue=o(hr,"TR",{});var dt=s(ue);Et=o(dt,"TH",{});var ur=s(Et);Yt=d(ur,"Param"),ur.forEach(t),Jt=_(dt),bt=o(dt,"TH",{});var vr=s(bt);Wt=d(vr,"Type"),vr.forEach(t),Xt=_(dt),Ye=o(dt,"TH",{width:!0});var _r=s(Ye);Zt=d(_r,"Description"),_r.forEach(t),dt.forEach(t),hr.forEach(t),xt=_(Ft),ve=o(Ft,"TBODY",{});var ft=s(ve);_e=o(ft,"TR",{});var ht=s(_e);Je=o(ht,"TD",{valign:!0});var pr=s(Je);el=d(pr,"thumb"),pr.forEach(t),tl=_(ht),We=o(ht,"TD",{valign:!0});var mr=s(We);Xe=o(mr,"SPAN",{class:!0});var gr=s(Xe);ll=d(gr,"String"),gr.forEach(t),mr.forEach(t),rl=_(ht),De=o(ht,"TD",{valign:!0});var Bt=s(De);al=d(Bt,`Get the thumb of the requested file.
                    `),ye(Ae.$$.fragment,Bt),ol=d(Bt,`
                    If the thumb size is not defined in the file schema field options or the file resource is not
                    an image (jpg, png, gif), then the original file resource is returned unmodified.`),Bt.forEach(t),ht.forEach(t),sl=_(ft),pe=o(ft,"TR",{});var ut=s(pe);Ze=o(ut,"TD",{valign:!0});var Er=s(Ze);nl=d(Er,"token"),Er.forEach(t),il=_(ut),xe=o(ut,"TD",{valign:!0});var br=s(xe);et=o(br,"SPAN",{class:!0});var $r=s(et);cl=d($r,"String"),$r.forEach(t),br.forEach(t),dl=_(ut),U=o(ut,"TD",{valign:!0});var oe=s(U);fl=d(oe,"Optional "),$t=o(oe,"STRONG",{});var Tr=s($t);hl=d(Tr,"file token"),Tr.forEach(t),ul=d(oe,` for granting access to
                    `),Tt=o(oe,"STRONG",{});var kr=s(Tt);vl=d(kr,"protected file(s)"),kr.forEach(t),_l=d(oe,`.
                    `),pl=o(oe,"BR",{}),ml=d(oe,`
                    For an example, you can check
                    `),tt=o(oe,"A",{href:!0});var Dr=s(tt);gl=d(Dr,'"Files upload and handling"'),Dr.forEach(t),El=d(oe,"."),oe.forEach(t),ut.forEach(t),bl=_(ft),me=o(ft,"TR",{});var vt=s(me);lt=o(vt,"TD",{valign:!0});var wr=s(lt);$l=d(wr,"download"),wr.forEach(t),Tl=_(vt),rt=o(vt,"TD",{valign:!0});var yr=s(rt);at=o(yr,"SPAN",{class:!0});var Ir=s(at);kl=d(Ir,"Boolean"),Ir.forEach(t),yr.forEach(t),Dl=_(vt),K=o(vt,"TD",{valign:!0});var se=s(K);wl=d(se,"If it is set to a truthy value ("),kt=o(se,"EM",{});var Sr=s(kt);yl=d(Sr,"1"),Sr.forEach(t),Il=d(se,", "),Dt=o(se,"EM",{});var Or=s(Dt);Sl=d(Or,"t"),Or.forEach(t),Ol=d(se,", "),wt=o(se,"EM",{});var Rr=s(wt);Rl=d(Rr,"true"),Rr.forEach(t),Pl=d(se,`) the file will be
                    served with `),yt=o(se,"CODE",{});var Pr=s(yt);Nl=d(Pr,"Content-Disposition: attachment"),Pr.forEach(t),Al=d(se,` header instructing the browser to
                    ignore the file preview for pdf, images, videos, etc. and to directly download the file.`),se.forEach(t),vt.forEach(t),ft.forEach(t),Ft.forEach(t),Rt=_(n),Ve=o(n,"DIV",{class:!0});var Nr=s(Ve);Vl=d(Nr,"Responses"),Nr.forEach(t),Pt=_(n),ge=o(n,"DIV",{class:!0});var Ct=s(ge);Ge=o(Ct,"DIV",{class:!0});var Ar=s(Ge);for(let Ce=0;Ce<Z.length;Ce+=1)Z[Ce].l(Ar);Ar.forEach(t),Gl=_(Ct),Fe=o(Ct,"DIV",{class:!0});var Vr=s(Fe);for(let Ce=0;Ce<C.length;Ce+=1)C[Ce].l(Vr);Vr.forEach(t),Ct.forEach(t),this.h()},h(){m(l,"class","content m-b-base"),m(P,"class","label label-primary"),m(S,"class","content"),m(g,"class","api-route alert alert-info"),m(x,"class","section-title"),m(z,"width","50%"),m(p,"class","label"),m(te,"class","label"),m(Qe,"class","label"),m(H,"class","table-compact table-border m-b-base"),m(Ne,"class","section-title"),m(Ye,"width","60%"),m(Je,"valign","top"),m(Xe,"class","label"),m(We,"valign","top"),m(De,"valign","top"),m(Ze,"valign","top"),m(et,"class","label"),m(xe,"valign","top"),m(tt,"href","/docs/files-handling/#protected-files"),m(U,"valign","top"),m(lt,"valign","top"),m(at,"class","label"),m(rt,"valign","top"),m(K,"valign","top"),m(he,"class","table-compact table-border m-b-base"),m(Ve,"class","section-title"),m(Ge,"class","tabs-header compact left"),m(Fe,"class","tabs-content"),m(ge,"class","tabs")},m(n,u){k(n,l,u),e(l,r),e(r,i),e(l,b),Ie(E,l,null),k(n,h,u),k(n,g,u),e(g,P),e(P,w),e(g,D),e(g,S),e(S,F),e(S,N),e(N,O),e(S,A),e(S,q),e(q,$),e(S,I),e(S,W),e(W,le),k(n,B,u),k(n,x,u),e(x,ce),k(n,Ee,u),k(n,H,u),e(H,j),e(j,Q),e(Q,re),e(re,Y),e(Q,ee),e(Q,V),e(V,qe),e(Q,Re),e(Q,z),e(z,R),e(H,He),e(H,M),e(M,L),e(L,be),e(be,de),e(L,ze),e(L,f),e(f,p),e(p,y),e(L,Me),e(L,$e),e($e,Le),e(M,ae),e(M,X),e(X,Te),e(Te,Pe),e(X,Ue),e(X,ke),e(ke,te),e(te,Ke),e(X,je),e(X,J),e(J,Ht),e(M,zt),e(M,fe),e(fe,_t),e(_t,Mt),e(fe,Lt),e(fe,pt),e(pt,Qe),e(Qe,Ut),e(fe,Kt),e(fe,mt),e(mt,jt),k(n,St,u),k(n,Ne,u),e(Ne,Qt),k(n,Ot,u),k(n,he,u),e(he,gt),e(gt,ue),e(ue,Et),e(Et,Yt),e(ue,Jt),e(ue,bt),e(bt,Wt),e(ue,Xt),e(ue,Ye),e(Ye,Zt),e(he,xt),e(he,ve),e(ve,_e),e(_e,Je),e(Je,el),e(_e,tl),e(_e,We),e(We,Xe),e(Xe,ll),e(_e,rl),e(_e,De),e(De,al),Ie(Ae,De,null),e(De,ol),e(ve,sl),e(ve,pe),e(pe,Ze),e(Ze,nl),e(pe,il),e(pe,xe),e(xe,et),e(et,cl),e(pe,dl),e(pe,U),e(U,fl),e(U,$t),e($t,hl),e(U,ul),e(U,Tt),e(Tt,vl),e(U,_l),e(U,pl),e(U,ml),e(U,tt),e(tt,gl),e(U,El),e(ve,bl),e(ve,me),e(me,lt),e(lt,$l),e(me,Tl),e(me,rt),e(rt,at),e(at,kl),e(me,Dl),e(me,K),e(K,wl),e(K,kt),e(kt,yl),e(K,Il),e(K,Dt),e(Dt,Sl),e(K,Ol),e(K,wt),e(wt,Rl),e(K,Pl),e(K,yt),e(yt,Nl),e(K,Al),k(n,Rt,u),k(n,Ve,u),e(Ve,Vl),k(n,Pt,u),k(n,ge,u),e(ge,Ge);for(let G=0;G<Z.length;G+=1)Z[G]&&Z[G].m(Ge,null);e(ge,Gl),e(ge,Fe);for(let G=0;G<C.length;G+=1)C[G]&&C[G].m(Fe,null);Nt=!0},p(n,u){u&3&&(At=n[1],Z=qt(Z,u,Ml,1,n,At,Hl,Ge,Lr,Br,null,Fr)),u&3&&(It=n[1],Ur(),C=qt(C,u,Ll,1,n,It,zl,Fe,Kr,Cr,null,Gr),jr())},i(n){if(!Nt){ne(E.$$.fragment,n),ne(Ae.$$.fragment,n);for(let u=0;u<It.length;u+=1)ne(C[u]);Nt=!0}},o(n){ie(E.$$.fragment,n),ie(Ae.$$.fragment,n);for(let u=0;u<C.length;u+=1)ie(C[u]);Nt=!1},d(n){n&&t(l),Se(E),n&&t(h),n&&t(g),n&&t(B),n&&t(x),n&&t(Ee),n&&t(H),n&&t(St),n&&t(Ne),n&&t(Ot),n&&t(he),Se(Ae),n&&t(Rt),n&&t(Ve),n&&t(Pt),n&&t(ge);for(let u=0;u<Z.length;u+=1)Z[u].d();for(let u=0;u<C.length;u+=1)C[u].d()}}}function Zr(T){let l,r;return l=new Yr({props:{single:!0,title:"Download / Fetch file",$$slots:{default:[Xr]},$$scope:{ctx:T}}}),{c(){we(l.$$.fragment)},l(i){ye(l.$$.fragment,i)},m(i,b){Ie(l,i,b),r=!0},p(i,[b]){const E={};b&257&&(E.$$scope={dirty:b,ctx:i}),l.$set(E)},i(i){r||(ne(l.$$.fragment,i),r=!0)},o(i){ie(l.$$.fragment,i),r=!1},d(i){Se(l,i)}}}function xr(T,l,r){let i=200;return[i,[{code:200,body:"[file resource]"},{code:400,body:`
                {
                  "code": 400,
                  "message": "Filesystem initialization failure.",
                  "data": {}
                }
            `},{code:404,body:`
                {
                  "code": 404,
                  "message": "The requested resource wasn't found.",
                  "data": {}
                }
            `}],h=>r(0,i=h.code)]}class ea extends Fl{constructor(l){super(),Bl(this,l,xr,Zr,Cl,{})}}function qr(T,l,r){const i=T.slice();return i[3]=l[r],i}function Hr(T,l,r){const i=T.slice();return i[3]=l[r],i}function zr(T,l){let r,i=l[3].code+"",b,E,h,g;function P(){return l[2](l[3])}return{key:T,first:null,c(){r=a("button"),b=c(i),E=v(),this.h()},l(w){r=o(w,"BUTTON",{class:!0});var D=s(r);b=d(D,i),E=_(D),D.forEach(t),this.h()},h(){m(r,"class","tab-item"),Oe(r,"active",l[0]===l[3].code),this.first=r},m(w,D){k(w,r,D),e(r,b),e(r,E),h||(g=Qr(r,"click",P),h=!0)},p(w,D){l=w,D&3&&Oe(r,"active",l[0]===l[3].code)},d(w){w&&t(r),h=!1,g()}}}function Mr(T,l){let r,i,b,E;return i=new ql({props:{content:l[3].body}}),{key:T,first:null,c(){r=a("div"),we(i.$$.fragment),b=v(),this.h()},l(h){r=o(h,"DIV",{class:!0});var g=s(r);ye(i.$$.fragment,g),b=_(g),g.forEach(t),this.h()},h(){m(r,"class","tab-item"),Oe(r,"active",l[0]===l[3].code),this.first=r},m(h,g){k(h,r,g),Ie(i,r,null),e(r,b),E=!0},p(h,g){l=h,(!E||g&3)&&Oe(r,"active",l[0]===l[3].code)},i(h){E||(ne(i.$$.fragment,h),E=!0)},o(h){ie(i.$$.fragment,h),E=!1},d(h){h&&t(r),Se(i)}}}function ta(T){let l,r,i,b,E,h,g,P,w,D,S,F,N,O,A,q,$,I,W,le,B,x,ce,Ee,H,j,Q,re,Y,ee,V=[],qe=new Map,Re,z,R=[],He=new Map,M,L=T[1];const be=f=>f[3].code;for(let f=0;f<L.length;f+=1){let p=Hr(T,L,f),y=be(p);qe.set(y,V[f]=zr(y,p))}let de=T[1];const ze=f=>f[3].code;for(let f=0;f<de.length;f+=1){let p=qr(T,de,f),y=ze(p);He.set(y,R[f]=Mr(y,p))}return{c(){l=a("div"),r=a("p"),i=c("Generates a "),b=a("strong"),E=c("short-lived file token"),h=c(` for accessing
            `),g=a("strong"),P=c("protected file(s)"),w=c("."),D=v(),S=a("p"),F=c(`The client must be admin or auth record authenticated (aka. have regular authorization token sent
            with the request).`),N=v(),O=a("div"),A=a("strong"),q=c("POST"),$=v(),I=a("div"),W=c("/api/files/token"),le=v(),B=a("small"),x=c("Requires "),ce=a("code"),Ee=c("Authorization: TOKEN"),H=v(),j=a("div"),Q=c("Responses"),re=v(),Y=a("div"),ee=a("div");for(let f=0;f<V.length;f+=1)V[f].c();Re=v(),z=a("div");for(let f=0;f<R.length;f+=1)R[f].c();this.h()},l(f){l=o(f,"DIV",{class:!0});var p=s(l);r=o(p,"P",{});var y=s(r);i=d(y,"Generates a "),b=o(y,"STRONG",{});var Me=s(b);E=d(Me,"short-lived file token"),Me.forEach(t),h=d(y,` for accessing
            `),g=o(y,"STRONG",{});var $e=s(g);P=d($e,"protected file(s)"),$e.forEach(t),w=d(y,"."),y.forEach(t),D=_(p),S=o(p,"P",{});var Le=s(S);F=d(Le,`The client must be admin or auth record authenticated (aka. have regular authorization token sent
            with the request).`),Le.forEach(t),p.forEach(t),N=_(f),O=o(f,"DIV",{class:!0});var ae=s(O);A=o(ae,"STRONG",{class:!0});var X=s(A);q=d(X,"POST"),X.forEach(t),$=_(ae),I=o(ae,"DIV",{class:!0});var Te=s(I);W=d(Te,"/api/files/token"),Te.forEach(t),le=_(ae),B=o(ae,"SMALL",{class:!0});var Pe=s(B);x=d(Pe,"Requires "),ce=o(Pe,"CODE",{});var Ue=s(ce);Ee=d(Ue,"Authorization: TOKEN"),Ue.forEach(t),Pe.forEach(t),ae.forEach(t),H=_(f),j=o(f,"DIV",{class:!0});var ke=s(j);Q=d(ke,"Responses"),ke.forEach(t),re=_(f),Y=o(f,"DIV",{class:!0});var te=s(Y);ee=o(te,"DIV",{class:!0});var Ke=s(ee);for(let J=0;J<V.length;J+=1)V[J].l(Ke);Ke.forEach(t),Re=_(te),z=o(te,"DIV",{class:!0});var je=s(z);for(let J=0;J<R.length;J+=1)R[J].l(je);je.forEach(t),te.forEach(t),this.h()},h(){m(l,"class","content m-b-base"),m(A,"class","label label-primary"),m(I,"class","content"),m(B,"class","txt-hint auth-header"),m(O,"class","api-route alert alert-success"),m(j,"class","section-title"),m(ee,"class","tabs-header compact left"),m(z,"class","tabs-content"),m(Y,"class","tabs")},m(f,p){k(f,l,p),e(l,r),e(r,i),e(r,b),e(b,E),e(r,h),e(r,g),e(g,P),e(r,w),e(l,D),e(l,S),e(S,F),k(f,N,p),k(f,O,p),e(O,A),e(A,q),e(O,$),e(O,I),e(I,W),e(O,le),e(O,B),e(B,x),e(B,ce),e(ce,Ee),k(f,H,p),k(f,j,p),e(j,Q),k(f,re,p),k(f,Y,p),e(Y,ee);for(let y=0;y<V.length;y+=1)V[y]&&V[y].m(ee,null);e(Y,Re),e(Y,z);for(let y=0;y<R.length;y+=1)R[y]&&R[y].m(z,null);M=!0},p(f,p){p&3&&(L=f[1],V=qt(V,p,be,1,f,L,qe,ee,Lr,zr,null,Hr)),p&3&&(de=f[1],Ur(),R=qt(R,p,ze,1,f,de,He,z,Kr,Mr,null,qr),jr())},i(f){if(!M){for(let p=0;p<de.length;p+=1)ne(R[p]);M=!0}},o(f){for(let p=0;p<R.length;p+=1)ie(R[p]);M=!1},d(f){f&&t(l),f&&t(N),f&&t(O),f&&t(H),f&&t(j),f&&t(re),f&&t(Y);for(let p=0;p<V.length;p+=1)V[p].d();for(let p=0;p<R.length;p+=1)R[p].d()}}}function la(T){let l,r;return l=new Yr({props:{single:!0,title:"Generate protected file token",$$slots:{default:[ta]},$$scope:{ctx:T}}}),{c(){we(l.$$.fragment)},l(i){ye(l.$$.fragment,i)},m(i,b){Ie(l,i,b),r=!0},p(i,[b]){const E={};b&257&&(E.$$scope={dirty:b,ctx:i}),l.$set(E)},i(i){r||(ne(l.$$.fragment,i),r=!0)},o(i){ie(l.$$.fragment,i),r=!1},d(i){Se(l,i)}}}function ra(T,l,r){let i=200;return[i,[{code:200,body:`
                {
                    "token": "..."
                }
            `},{code:400,body:`
                {
                  "code": 400,
                  "message": "Failed to generate file token.",
                  "data": {}
                }
            `}],h=>r(0,i=h.code)]}class aa extends Fl{constructor(l){super(),Bl(this,l,ra,la,Cl,{})}}function oa(T){let l,r,i,b,E,h,g,P,w,D,S,F,N,O,A,q;return N=new ea({}),A=new aa({}),{c(){l=a("p"),r=c(`Files are uploaded, updated or deleted via the
    `),i=a("a"),b=c("Records API"),E=c("."),h=v(),g=a("p"),P=c(`The File API is usually used to fetch/download a file resource (with support for basic image
    manipulations, like generating thumbs).`),w=v(),D=a("div"),S=v(),F=a("div"),we(N.$$.fragment),O=v(),we(A.$$.fragment),this.h()},l($){l=o($,"P",{});var I=s(l);r=d(I,`Files are uploaded, updated or deleted via the
    `),i=o(I,"A",{href:!0});var W=s(i);b=d(W,"Records API"),W.forEach(t),E=d(I,"."),I.forEach(t),h=_($),g=o($,"P",{});var le=s(g);P=d(le,`The File API is usually used to fetch/download a file resource (with support for basic image
    manipulations, like generating thumbs).`),le.forEach(t),w=_($),D=o($,"DIV",{class:!0}),s(D).forEach(t),S=_($),F=o($,"DIV",{class:!0});var B=s(F);ye(N.$$.fragment,B),O=_(B),ye(A.$$.fragment,B),B.forEach(t),this.h()},h(){m(i,"href","/docs/api-records"),m(D,"class","clearfix m-t-base"),m(F,"class","accordions")},m($,I){k($,l,I),e(l,r),e(l,i),e(i,b),e(l,E),k($,h,I),k($,g,I),e(g,P),k($,w,I),k($,D,I),k($,S,I),k($,F,I),Ie(N,F,null),e(F,O),Ie(A,F,null),q=!0},p:Jr,i($){q||(ne(N.$$.fragment,$),ne(A.$$.fragment,$),q=!0)},o($){ie(N.$$.fragment,$),ie(A.$$.fragment,$),q=!1},d($){$&&t(l),$&&t(h),$&&t(g),$&&t(w),$&&t(D),$&&t(S),$&&t(F),Se(N),Se(A)}}}class da extends Fl{constructor(l){super(),Bl(this,l,null,oa,Cl,{})}}export{da as component};
