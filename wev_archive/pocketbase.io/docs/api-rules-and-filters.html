<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from pocketbase.io/docs/api-rules-and-filters by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 26 Jun 2024 08:31:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <meta name="description" content="Open Source backend in 1 file with realtime database, authentication, file storage and admin dashboard">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="PocketBase - Open Source backend in 1 file">
    <meta property="og:description" content="Open Source backend in 1 file with realtime database, authentication, file storage and admin dashboard">
    <meta property="og:image" content="../images/og.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="PocketBase - Open Source backend in 1 file">
    <meta property="twitter:description" content="Open Source backend in 1 file with realtime database, authentication, file storage and admin dashboard">
    <meta property="twitter:image" content="../images/og.png">

    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="../images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../images/favicon/favicon-16x16.png">
    <link rel="manifest" href="https://pocketbase.io/images/favicon/site.webmanifest">
    <link rel="mask-icon" href="https://pocketbase.io/images/favicon/safari-pinned-tab.svg" color="#000000">
    <link rel="shortcut icon" href="https://pocketbase.io/images/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="https://pocketbase.io/images/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <!-- preload -->
    <link rel="preload" href="https://pocketbase.io/fonts/source-sans-pro/source-sans-pro-v18-latin_cyrillic-regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://pocketbase.io/fonts/source-sans-pro/source-sans-pro-v18-latin_cyrillic-600.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://pocketbase.io/fonts/source-sans-pro/source-sans-pro-v18-latin_cyrillic-700.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://pocketbase.io/fonts/source-sans-pro/source-sans-pro-v18-latin_cyrillic-italic.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://pocketbase.io/fonts/ubuntu-mono/ubuntu-mono-v17-cyrillic_latin-regular.woff2" as="font" type="font/woff2" crossorigin>

    <script>
        // CSS3 animations support check
        (function () {
            if (typeof document === "undefined") {
                return; // serverside rendering
            }

            let elem = document.createElement("div");
            let hasAnimation = elem.style.animationName !== undefined;

            if (!hasAnimation) {
                document.documentElement.classList.add("no-animations");
            }
        })();
    </script>

    <script>
        // silent svelte console errors
        if (typeof window === "undefined") {
            window = {};
        }
        window.Prism = window.Prism || {};
        window.Prism.manual = true;

        if (typeof navigator !== "undefined" && navigator.userAgentData) {
            navigator.userAgentData.getHighEntropyValues([
                "architecture",
            ]).then((ua) => {
                window.UA_ARCHITECTURE = ua.architecture
            });
        }
    </script>

    
		<link href="../_app/immutable/assets/2.0975cac3.css" rel="stylesheet">
		<link href="../_app/immutable/assets/main.a2ec6d35.css" rel="stylesheet">
		<link href="../_app/immutable/assets/3.9c47a874.css" rel="stylesheet">
		<link href="../_app/immutable/assets/CodeBlock.d22afb3e.css" rel="stylesheet">
		<link href="../_app/immutable/assets/FilterSyntax.68f52edd.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.c884ba35.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.a7566c1a.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons.01dc88c8.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.f5b995db.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.7b6d4e54.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.1674d90f.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/2.d9b2382e.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/PageFooter.186a253e.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/tooltip.f1d7ab7e.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CommonHelper.7329e1a7.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/3.a42e91c2.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/stores.fb1f6c95.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/preferences.0fc33f39.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/14.07f459ab.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/HeadingLink.20322812.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CodeBlock.a090ee9b.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/FilterSyntax.3a84ec87.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Toc.c31a36b6.js"><title>API rules and filters - Docs - PocketBase</title><!-- HEAD_svelte-q27gla_START --><!-- HEAD_svelte-q27gla_END -->
</head>
<body>
    <div class="page-body">



<header class="page-header"><div class="wrapper wrapper-lg"><a href="https://pocketbase.io/" class="logo logo-sm"><img src="https://pocketbase.io/images/logo.svg" alt="PocketBase logo" width="40" height="40">
            <span class="txt">Pocket<strong>Base</strong></span>
            <span class="version">v0.22.14</span></a>

        <div class="flex-fill"></div>

        
        

        

        <button type="button" class="btn btn-circle btn-secondary responsive-menu-btn" title="Menu"><span></span>
            <i class="ri-menu-3-fill"></i>
            

<div class="toggler-container"></div></button>

        <nav class="main-menu"><a href="https://pocketbase.io/faq" class="btn btn-secondary">FAQ</a>
            <a href="https://github.com/pocketbase/pocketbase/discussions" class="btn btn-secondary" target="_blank" rel="noreferrer noopener">Discussions
            </a>
            <a href="https://github.com/pocketbase/pocketbase" class="btn btn-circle btn-secondary" target="_blank" rel="noreferrer noopener" title="GitHub Repo"><i class="ri-github-line"></i></a>
            <a href="https://pocketbase.io/docs" class="btn btn-outline btn-expanded"><span class="txt">Documentation</span></a></nav></div></header>

<main class="wrapper wrapper-lg page-content-wrapper">

<aside class="page-sidebar highlight docs-sidebar"><div class="sticky-wrapper svelte-1izh69t"><div class="absolute-wrapper svelte-1izh69t"><div class="sidebar-content svelte-1izh69t"><nav class="sidebar-list">
        
        <a href="https://pocketbase.io/docs" class="list-item">
            <span class="icon"><i class="ri-home-2-line"></i></span>
            <span class="txt">Introduction</span>
            </a>
        
        
        <a href="collections.html" class="list-item">
            <span class="icon"><i class="ri-database-2-line"></i></span>
            <span class="txt">Collections</span>
            </a>
        
        
        <a href="api-rules-and-filters.html" class="list-item active">
            <span class="icon"><i class="ri-shield-check-line"></i></span>
            <span class="txt">API rules and filters</span>
            </a>
        
        
        <a href="client-side-sdks.html" class="list-item">
            <span class="icon"><i class="ri-tools-line"></i></span>
            <span class="txt">Client-side SDKs</span>
            </a>
        
        
        <a href="authentication.html" class="list-item">
            <span class="icon"><i class="ri-group-line"></i></span>
            <span class="txt">Authentication</span>
            </a>
        
        
        <a href="files-handling.html" class="list-item">
            <span class="icon"><i class="ri-upload-cloud-line"></i></span>
            <span class="txt">Files upload and handling</span>
            </a>
        
        
        <a href="working-with-relations.html" class="list-item">
            <span class="icon"><i class="ri-mind-map"></i></span>
            <span class="txt">Working with relations</span>
            </a>
        
        
        <a href="use-as-framework.html" class="list-item">
            <span class="icon"><i class="ri-code-s-slash-line"></i></span>
            <span class="txt">Use as framework</span>
            </a>
        
        
        <a href="api-records.html" class="list-item">
            <span class="icon"><i class="ri-file-list-2-line"></i></span>
            <span class="txt">Web APIs reference</span>
            </a>
        
        
        <a href="going-to-production.html" class="list-item">
            <span class="icon"><i class="ri-check-double-line"></i></span>
            <span class="txt">Going to production</span>
            </a>
        </nav>

                <div class="clearfix m-t-base"></div>

                <div class="sidebar-bg-section"><div class="tabs-header stretched compact"><a class="tab-item active" href="go-overview.html"><div class="block">Extend with
                                <br>
                                <strong>Go</strong></div></a>
                        <a class="tab-item" href="js-overview.html"><div class="block">Extend with
                                <br>
                                <strong>JavaScript</strong></div></a></div>
                    <div class="tabs-content"><div class="tab-item active"><nav class="sidebar-list">
        
        <a href="go-overview.html" class="list-item"><span class="label label-sm label-info svelte-1izh69t">Go</span>
            
            <span class="txt">Overview</span>
            </a>
        
        
        <a href="go-event-hooks.html" class="list-item"><span class="label label-sm label-info svelte-1izh69t">Go</span>
            
            <span class="txt">Event hooks</span>
            </a>
        
        
        <a href="go-routing.html" class="list-item"><span class="label label-sm label-info svelte-1izh69t">Go</span>
            
            <span class="txt">Routing</span>
            </a>
        
        
        <a href="go-database.html" class="list-item"><span class="label label-sm label-info svelte-1izh69t">Go</span>
            
            <span class="txt">Database</span>
            </a>
        
        
        <a href="go-records.html" class="list-item"><span class="label label-sm label-info svelte-1izh69t">Go</span>
            
            <span class="txt">Record operations</span>
            </a>
        
        
        <a href="go-collections.html" class="list-item"><span class="label label-sm label-info svelte-1izh69t">Go</span>
            
            <span class="txt">Collection operations</span>
            </a>
        
        
        <a href="go-migrations.html" class="list-item"><span class="label label-sm label-info svelte-1izh69t">Go</span>
            
            <span class="txt">Migrations</span>
            </a>
        
        
        <a href="go-jobs-scheduling.html" class="list-item"><span class="label label-sm label-info svelte-1izh69t">Go</span>
            
            <span class="txt">Jobs scheduling</span>
            </a>
        
        
        <a href="go-console-commands.html" class="list-item"><span class="label label-sm label-info svelte-1izh69t">Go</span>
            
            <span class="txt">Console commands</span>
            </a>
        
        
        <a href="go-sending-emails.html" class="list-item"><span class="label label-sm label-info svelte-1izh69t">Go</span>
            
            <span class="txt">Sending emails</span>
            </a>
        
        
        <a href="go-rendering-templates.html" class="list-item"><span class="label label-sm label-info svelte-1izh69t">Go</span>
            
            <span class="txt">Rendering templates</span>
            </a>
        
        
        <a href="go-logging.html" class="list-item"><span class="label label-sm label-info svelte-1izh69t">Go</span>
            
            <span class="txt">Logging</span>
            </a>
        
        
        <a href="go-testing.html" class="list-item"><span class="label label-sm label-info svelte-1izh69t">Go</span>
            
            <span class="txt">Testing</span>
            </a>
        
        
        <a href="go-custom-models.html" class="list-item"><span class="label label-sm label-info svelte-1izh69t">Go</span>
            
            <span class="txt">Custom models</span>
            </a>
        </nav></div>
                        <div class="tab-item"><nav class="sidebar-list">
        
        <a href="js-overview.html" class="list-item"><span class="label label-sm label-warning svelte-1izh69t">JS</span>
            
            <span class="txt">Overview</span>
            </a>
        
        
        <a href="js-event-hooks.html" class="list-item"><span class="label label-sm label-warning svelte-1izh69t">JS</span>
            
            <span class="txt">Event hooks</span>
            </a>
        
        
        <a href="js-routing.html" class="list-item"><span class="label label-sm label-warning svelte-1izh69t">JS</span>
            
            <span class="txt">Routing</span>
            </a>
        
        
        <a href="js-database.html" class="list-item"><span class="label label-sm label-warning svelte-1izh69t">JS</span>
            
            <span class="txt">Database</span>
            </a>
        
        
        <a href="js-records.html" class="list-item"><span class="label label-sm label-warning svelte-1izh69t">JS</span>
            
            <span class="txt">Record operations</span>
            </a>
        
        
        <a href="js-collections.html" class="list-item"><span class="label label-sm label-warning svelte-1izh69t">JS</span>
            
            <span class="txt">Collection operations</span>
            </a>
        
        
        <a href="js-migrations.html" class="list-item"><span class="label label-sm label-warning svelte-1izh69t">JS</span>
            
            <span class="txt">Migrations</span>
            </a>
        
        
        <a href="js-jobs-scheduling.html" class="list-item"><span class="label label-sm label-warning svelte-1izh69t">JS</span>
            
            <span class="txt">Jobs scheduling</span>
            </a>
        
        
        <a href="js-console-commands.html" class="list-item"><span class="label label-sm label-warning svelte-1izh69t">JS</span>
            
            <span class="txt">Console commands</span>
            </a>
        
        
        <a href="js-sending-emails.html" class="list-item"><span class="label label-sm label-warning svelte-1izh69t">JS</span>
            
            <span class="txt">Sending emails</span>
            </a>
        
        
        <a href="js-sending-http-requests.html" class="list-item"><span class="label label-sm label-warning svelte-1izh69t">JS</span>
            
            <span class="txt">Sending HTTP requests</span>
            </a>
        
        
        <a href="js-rendering-templates.html" class="list-item"><span class="label label-sm label-warning svelte-1izh69t">JS</span>
            
            <span class="txt">Rendering templates</span>
            </a>
        
        
        <a href="js-logging.html" class="list-item"><span class="label label-sm label-warning svelte-1izh69t">JS</span>
            
            <span class="txt">Logging</span>
            </a>
        
        
        <a href="https://pocketbase.io/jsvm/index.html" class="list-item" target="_blank" rel="noopener noreferrer"><span class="label label-sm label-warning svelte-1izh69t">JS</span>
            
            <span class="txt">Types reference</span>
            </a>
        </nav></div></div></div></div></div></div>
</aside>

<div class="page-content"><nav class="breadcrumbs"><div class="breadcrumb-item">API rules and filters</div></nav>

    <div class="content"><div class="toc"><ul class="toc-list-1"></ul></div>

<h3 id="api-rules" class="heading-link "><a href="#api-rules" class="link-primary">
        API rules
        </a></h3>
<p><strong>API Rules</strong> are your collection access controls and data filters.
</p>
<p>Each collection has <strong>5 rules</strong>, corresponding to the specific API action:
</p>
<ul><li><code>listRule</code></li>
    <li><code>viewRule</code></li>
    <li><code>createRule</code></li>
    <li><code>updateRule</code></li>
    <li><code>deleteRule</code></li></ul>
<p>Auth collections has an additional <code>options.manageRule</code> used to allow one user (it could be even
    from a different collection) to be able to fully manage the data of another user (ex. changing their email,
    password, etc.).
</p>

<p>Each rule could be set to:</p>
<ul><li><strong>&quot;locked&quot;</strong> - aka. <code>null</code>, which means that the action could be performed
        only by an authorized admin
        
        (<strong>this is the default</strong>)
    </li>
    <li><strong>Empty string</strong> - anyone will be able to perform the action (admins, authorized users and
        guests)
    </li>
    <li><strong>Non-empty string</strong> - only users (authorized or not) that satisfy the rule filter expression
        will be able to perform this action
    </li></ul>

<div class="alert alert-info"><div class="icon"><i class="ri-information-line"></i></div>
    <div class="content"><p><strong>PocketBase API Rules act also as records filter!</strong>
            <br>
            Or in other words, you could for example allow listing only the &quot;active&quot; records of your collection,
            by using a simple filter expression such as:
            <code>status = &quot;active&quot;</code>
            (where &quot;status&quot; is a field defined in your Collection).
        </p>
        <p>Because of the above, the API will return 200 empty items response in case a request doesn&#39;t
            satisfy a <code>listRule</code>, 400 for unsatisfied <code>createRule</code> and 404 for
            unsatisfied <code>viewRule</code>, <code>updateRule</code> and <code>deleteRule</code>.
            <br>
            All rules will return 403 in case they were &quot;locked&quot; (aka. admin only) and the request client is not
            an admin.
        </p>
        <p>The API Rules are ignored when the action is performed by an authorized admin (<strong>admins can access everything</strong>)!
        </p></div></div>

<h3 id="filters-syntax" class="heading-link "><a href="#filters-syntax" class="link-primary">
        Filters syntax
        </a></h3>
<p>You could find information about the supported fields in your collection API rules tab:</p>
<img src="../images/screenshots/collection-rules.png" alt="Collection API Rules filters screenshot" class="screenshot" width="550">
<p>There is autocomplete to help you guide you while typing the rule filter expression, but in general, you
    have access to
    <strong>3 groups of fields</strong>:
</p>
<ul><li><strong>Your Collection schema fields</strong>
        <br>
        This also include all nested relations fields too, ex.
        <code>someRelField.status != &quot;pending&quot;</code></li>
    <li><code><strong>@request.*</strong></code>
        <br>
        Used to access the current request data, such as query parameters, body/form data, authorized user state,
        etc.
        <ul><li><code>@request.context</code> - the context where the rule is used (ex.
                <code>@request.context != &quot;oauth2&quot;</code>)
                <br>
                <small class="txt-hint">The currently supported context values are <code>default</code>, <code>oauth2</code>,
                    <code>realtime</code>, <code>protectedFile</code>.
                </small></li>
            <li><code>@request.method</code> - the HTTP request method (ex.
                <code>@request.method = &quot;GET&quot;</code>)
            </li>
            <li><code>@request.headers.*</code> - the request headers as string values (ex.
                <code>@request.headers.x_token = &quot;test&quot;</code>)
                <br>
                <small class="txt-hint">Note: All header keys are normalized to lowercase and &quot;-&quot; is replaced with &quot;_&quot; (for
                    example &quot;X-Token&quot; is &quot;x_token&quot;).
                </small></li>
            <li><code>@request.query.*</code> - the request query parameters as string values (ex.
                <code>@request.query.page = &quot;1&quot;</code>)
            </li>
            <li><code>@request.data.*</code> - the submitted body parameters (ex.
                <code>@request.data.title != &quot;&quot;</code>)
            </li>
            <li><code>@request.auth.*</code> - the current authenticated model (ex.
                <code>@request.auth.id != &quot;&quot;</code>)
            </li></ul></li>
    <li><code><strong>@collection.*</strong></code>
        <p>This filter could be used to target other collections that are not directly related to the current
            one (aka. there is no relation field pointing to it) but both shares a common field value, like
            for example a category id:
        </p>
        <div class="code-wrapper prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><!-- HTML_TAG_START -->@collection<span class="token punctuation">.</span>news<span class="token punctuation">.</span>categoryId <span class="token operator">?</span><span class="token operator">=</span> categoryId <span class="token operator">&amp;&amp;</span> @collection<span class="token punctuation">.</span>news<span class="token punctuation">.</span>author <span class="token operator">?</span><span class="token operator">=</span> @request<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>id<!-- HTML_TAG_END --></code>
</div>
        <p>In case you want to join the same collection multiple times but based on different criteria, you
            can define an alias by appending <code>:alias</code> suffix to the collection name.
        </p>
        <div class="code-wrapper prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><!-- HTML_TAG_START --><span class="token comment">// see https://github.com/pocketbase/pocketbase/discussions/3805#discussioncomment-7634791</span>
@request<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>id <span class="token operator">!=</span> <span class="token string">""</span> <span class="token operator">&amp;&amp;</span>
@collection<span class="token punctuation">.</span>courseRegistrations<span class="token punctuation">.</span>user <span class="token operator">?</span><span class="token operator">=</span> id <span class="token operator">&amp;&amp;</span>
@collection<span class="token punctuation">.</span>courseRegistrations<span class="token operator">:</span>auth<span class="token punctuation">.</span>user <span class="token operator">?</span><span class="token operator">=</span> @request<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>id <span class="token operator">&amp;&amp;</span>
@collection<span class="token punctuation">.</span>courseRegistrations<span class="token punctuation">.</span>courseGroup <span class="token operator">?</span><span class="token operator">=</span> @collection<span class="token punctuation">.</span>courseRegistrations<span class="token operator">:</span>auth<span class="token punctuation">.</span>courseGroup<!-- HTML_TAG_END --></code>
</div></li></ul>

<p>The syntax basically follows the format
    <code><span class="txt-success">OPERAND</span>
        <span class="txt-danger">OPERATOR</span>
        <span class="txt-success">OPERAND</span></code>, where:
</p>
<ul><li><code class="txt-success">OPERAND</code> - could be any of the above field literal, string (single or double
        quoted), number, null, true, false
    </li>
    <li><code class="txt-danger">OPERATOR</code> - is one of:
        <br>
        <ul><li><code class="filter-op svelte-1w7s5nw">=</code>
                <span class="txt">Equal</span></li>
            <li><code class="filter-op svelte-1w7s5nw">!=</code>
                <span class="txt">NOT equal</span></li>
            <li><code class="filter-op svelte-1w7s5nw">></code>
                <span class="txt">Greater than</span></li>
            <li><code class="filter-op svelte-1w7s5nw">>=</code>
                <span class="txt">Greater than or equal</span></li>
            <li><code class="filter-op svelte-1w7s5nw">&lt;</code>
                <span class="txt">Less than</span></li>
            <li><code class="filter-op svelte-1w7s5nw">&lt;=</code>
                <span class="txt">Less than or equal</span></li>
            <li><code class="filter-op svelte-1w7s5nw">~</code>
                <span class="txt">Like/Contains (if not specified auto wraps the right string OPERAND in a &quot;%&quot; for wildcard
                    match)
                </span></li>
            <li><code class="filter-op svelte-1w7s5nw">!~</code>
                <span class="txt">NOT Like/Contains (if not specified auto wraps the right string OPERAND in a &quot;%&quot; for
                    wildcard match)
                </span></li>

            <li><code class="filter-op svelte-1w7s5nw">?=</code>
                <em class="txt-hint">Any/At least one of</em>
                <span class="txt">Equal</span></li>
            <li><code class="filter-op svelte-1w7s5nw">?!=</code>
                <em class="txt-hint">Any/At least one of</em>
                <span class="txt">NOT equal</span></li>
            <li><code class="filter-op svelte-1w7s5nw">?></code>
                <em class="txt-hint">Any/At least one of</em>
                <span class="txt">Greater than</span></li>
            <li><code class="filter-op svelte-1w7s5nw">?>=</code>
                <em class="txt-hint">Any/At least one of</em>
                <span class="txt">Greater than or equal</span></li>
            <li><code class="filter-op svelte-1w7s5nw">?&lt;</code>
                <em class="txt-hint">Any/At least one of</em>
                <span class="txt">Less than</span></li>
            <li><code class="filter-op svelte-1w7s5nw">?&lt;=</code>
                <em class="txt-hint">Any/At least one of</em>
                <span class="txt">Less than or equal</span></li>
            <li><code class="filter-op svelte-1w7s5nw">?~</code>
                <em class="txt-hint">Any/At least one of</em>
                <span class="txt">Like/Contains (if not specified auto wraps the right string OPERAND in a &quot;%&quot; for wildcard
                    match)
                </span></li>
            <li><code class="filter-op svelte-1w7s5nw">?!~</code>
                <em class="txt-hint">Any/At least one of</em>
                <span class="txt">NOT Like/Contains (if not specified auto wraps the right string OPERAND in a &quot;%&quot; for
                    wildcard match)
                </span></li></ul></li></ul>

<p class="txt-bold">To group and combine several expressions you could use parenthesis
    <code>(...)</code>, <code>&amp;&amp;</code> (AND) and <code>||</code> (OR) tokens.
</p>

<p>Single line comments are also supported: <code>// Example comment</code>.</p>

<h3 id="special-identifiers-and-modifiers" class="heading-link "><a href="#special-identifiers-and-modifiers" class="link-primary">
        Special identifiers and modifiers
        </a></h3>

<h5 id="-macros" class="heading-link "><a href="#-macros" class="link-primary">
        @ macros
        </a></h5>
<p>The following datetime macros are available and can be used as part of the filter expression:</p>
<div class="code-wrapper prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><!-- HTML_TAG_START -->// all macros are UTC based
@now        - the current datetime as string
@second     - @now second number (0-59)
@minute     - @now minute number (0-59)
@hour       - @now hour number (0-23)
@weekday    - @now weekday number (0-6)
@day        - @now day number
@month      - @now month number
@year       - @now year number
@todayStart - beginning of the current day as datetime string
@todayEnd   - end of the current day as datetime string
@monthStart - beginning of the current month as datetime string
@monthEnd   - end of the current month as datetime string
@yearStart  - beginning of the current year as datetime string
@yearEnd    - end of the current year as datetime string<!-- HTML_TAG_END --></code>
</div>
<p>For example:</p>
<div class="code-wrapper prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><!-- HTML_TAG_START -->@request<span class="token punctuation">.</span>data<span class="token punctuation">.</span>publicDate <span class="token operator">>=</span> @now<!-- HTML_TAG_END --></code>
</div>

<h5 id="isset-modifier" class="heading-link "><a href="#isset-modifier" class="link-primary">
        :isset modifier
        </a></h5>
<p>The <code>:isset</code> field modifier is available only for the <code>@request.*</code> fields and can be
    used to check whether the client submitted a specific data with the request. Here is for example a rule that
    disallows changing a &quot;role&quot; field:
</p>
<div class="code-wrapper prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><!-- HTML_TAG_START -->@request<span class="token punctuation">.</span>data<span class="token punctuation">.</span>role<span class="token operator">:</span>isset <span class="token operator">=</span> <span class="token boolean">false</span><!-- HTML_TAG_END --></code>
</div>

<h5 id="length-modifier" class="heading-link "><a href="#length-modifier" class="link-primary">
        :length modifier
        </a></h5>
<p>The <code>:length</code> field modifier could be used to check the number of items in an array field
    (multiple <code>file</code>, <code>select</code>, <code>relation</code>).
    <br>
    Could be used with both the collection schema fields and the <code>@request.data.*</code> fields. For example:
</p>
<div class="code-wrapper prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><!-- HTML_TAG_START --><span class="token comment">// check example submitted data: {"someSelectField": ["val1", "val2"]}</span>
@request<span class="token punctuation">.</span>data<span class="token punctuation">.</span>someSelectField<span class="token operator">:</span>length <span class="token operator">></span> <span class="token number">1</span>

<span class="token comment">// check existing record field length</span>
<span class="token literal-property property">someRelationField</span><span class="token operator">:</span>length <span class="token operator">=</span> <span class="token number">2</span><!-- HTML_TAG_END --></code>
</div>

<h5 id="each-modifier" class="heading-link "><a href="#each-modifier" class="link-primary">
        :each modifier
        </a></h5>
<p>The <code>:each</code> field modifier works only with multiple <code>select</code>, <code>file</code> and
    <code>relation</code>
    type fields. It could be used to apply a condition on each item from the field array. For example:
</p>
<div class="code-wrapper prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><!-- HTML_TAG_START --><span class="token comment">// check if all submitted select options contain the "create" text</span>
@request<span class="token punctuation">.</span>data<span class="token punctuation">.</span>someSelectField<span class="token operator">:</span>each <span class="token operator">~</span> <span class="token string">"create"</span>

<span class="token comment">// check if all existing someSelectField has "pb_" prefix</span>
<span class="token literal-property property">someSelectField</span><span class="token operator">:</span>each <span class="token operator">~</span> <span class="token string">"pb_%"</span><!-- HTML_TAG_END --></code>
</div>

<h3 id="examples" class="heading-link "><a href="#examples" class="link-primary">
        Examples
        </a></h3>
<ul><li class="m-b-sm">Allow only registered users:
        <div class="code-wrapper prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><!-- HTML_TAG_START -->@request<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>id <span class="token operator">!=</span> <span class="token string">""</span><!-- HTML_TAG_END --></code>
</div></li>
    <li class="m-b-sm">Allow only registered users and return records that are either &quot;active&quot; or &quot;pending&quot;:
        <div class="code-wrapper prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><!-- HTML_TAG_START -->@request<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>id <span class="token operator">!=</span> <span class="token string">""</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>status <span class="token operator">=</span> <span class="token string">"active"</span> <span class="token operator">||</span> status <span class="token operator">=</span> <span class="token string">"pending"</span><span class="token punctuation">)</span><!-- HTML_TAG_END --></code>
</div></li>
    <li class="m-b-sm">Allow only registered users who are listed in an <em>allowed_users</em> multi-relation field value:
        <div class="code-wrapper prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><!-- HTML_TAG_START -->@request<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>id <span class="token operator">!=</span> <span class="token string">""</span> <span class="token operator">&amp;&amp;</span> allowed_users<span class="token punctuation">.</span>id <span class="token operator">?</span><span class="token operator">=</span> @request<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>id<!-- HTML_TAG_END --></code>
</div></li>
    <li class="m-b-sm">Allow access by anyone and return only the records where the <em>title</em> field value starts with
        &quot;Lorem&quot; (ex. &quot;Lorem ipsum&quot;):
        <div class="code-wrapper prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><!-- HTML_TAG_START -->title <span class="token operator">~</span> <span class="token string">"Lorem%"</span><!-- HTML_TAG_END --></code>
</div></li></ul></div>

    <hr>

    <div class="docs-footer svelte-1dbn67j"><a href="collections.html" class="btn btn-secondary btn-prev svelte-1dbn67j"><i class="ri-arrow-left-line"></i>
            <span class="txt">Prev: Collections</span></a>

    <a href="client-side-sdks.html" class="btn btn-outline btn-expanded btn-next svelte-1dbn67j"><span class="txt">Next: Client-side SDKs</span>
            <i class="ri-arrow-right-line"></i></a>
</div></div></main>

<footer class="page-footer"><div class="wrapper wrapper-lg"><div class="primary-bar"><nav class="footer-col links"><a href="https://pocketbase.io/faq" class="link-item">FAQ</a>
                <a href="https://github.com/pocketbase/pocketbase/discussions" class="link-item" target="_blank" rel="noopener noreferrer">Discussions
                </a>
                <a href="https://pocketbase.io/docs" class="link-item">Documentation</a></nav>

            <nav class="footer-col links"><a href="https://github.com/pocketbase/js-sdk" class="link-item" target="_blank" rel="noopener noreferrer">JavaScript SDK
                </a>
                <a href="https://github.com/pocketbase/dart-sdk" class="link-item" target="_blank" rel="noopener noreferrer">Dart SDK
                </a></nav>

            <div class="footer-col socials"><div class="watermark-logo">Pocket<strong>Base</strong></div>
                <a href="mailto:support" class="btn btn-secondary btn-circle btn-hint social-item" aria-label="Contact support"><i class="ri-mail-line"></i></a>
                <a href="https://twitter.com/pocketbase" rel="noopener noreferrer" target="_blank" class="btn btn-secondary btn-circle btn-hint social-item" aria-label="Go to Twitter"><i class="ri-twitter-line"></i></a>
                <a href="https://github.com/pocketbase/pocketbase" rel="noopener noreferrer" target="_blank" class="btn btn-secondary btn-circle btn-hint social-item" aria-label="Go to GitHub"><i class="ri-github-line"></i></a></div></div>
        <div class="secondary-bar"><div class="terms"><span class="txt">Â© 2023-2024 Pocket<strong>Base</strong></span>
                <span class="gopher-credit">The Gopher artwork is from
                    <a href="https://github.com/marcusolsson/gophers" target="_blank" rel="noreferrer noopener">marcusolsson/gophers
                    </a></span></div>
            <div class="flex-fill"></div>
            <div class="credit">Crafted by <a href="https://gani.bg/" target="_blank" rel="noopener noreferrer" class="link-hint"><strong>Gani</strong></a></div></div></div></footer>



<button type="button" class="btn btn-circle btn-secondary scroll-to-top svelte-h1x6u4" arial-label="Go to top"><i class="ri-arrow-up-line"></i>
</button>


			
			<script>
				{
					__sveltekit_1pqcct0 = {
						base: new URL("../..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null,null,null];

					Promise.all([
						import("../_app/immutable/entry/start.c884ba35.js"),
						import("../_app/immutable/entry/app.7b6d4e54.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 3, 14],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
</body>

<!-- Mirrored from pocketbase.io/docs/api-rules-and-filters by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 26 Jun 2024 08:31:45 GMT -->
</html>
